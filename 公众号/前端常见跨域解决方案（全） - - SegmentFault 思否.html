
<!-- saved from url=(0043)https://segmentfault.com/a/1190000011145364 -->
<html lang="zh" class="fontawesome-i2svg-active fontawesome-i2svg-complete"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="IE=edge, chrome=1" http-equiv="X-UA-Compatible">
        <meta content="webkit" name="renderer">
        <meta content="15317273575564615446375" property="qc:admins">
        <meta property="og:image" content="https://assets.segmentfault.com/v-5de60fd7/global/img/touch-icon.png">
                    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
                <meta content="LkzCRJ7rPEUwt6fVey2vhxiw1vQ" name="alexaVerifyID">
        <meta content="app-id=958101793, app-argument=" name="apple-itunes-app">
                    <title>前端常见跨域解决方案（全） -  - SegmentFault 思否</title>
                            <meta name="description" content="什么是同源策略？同源策略/SOP（Same origin policy）是一种约定，由Netscape公司1995年引入浏览器，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到XSS、CSFR等攻击。所谓同源是指&quot;协议+域名+端口&quot;三者相同，即便两个不同的域名指向同一个ip地址，也非同源。">
        
                    <meta name="keywords" content="中间件,跨域,postmessage,nginx,cors">
        
        <style type="text/css">svg:not(:root).svg-inline--fa {
  overflow: visible;
}

.svg-inline--fa {
  display: inline-block;
  font-size: inherit;
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.225em;
}
.svg-inline--fa.fa-w-1 {
  width: 0.0625em;
}
.svg-inline--fa.fa-w-2 {
  width: 0.125em;
}
.svg-inline--fa.fa-w-3 {
  width: 0.1875em;
}
.svg-inline--fa.fa-w-4 {
  width: 0.25em;
}
.svg-inline--fa.fa-w-5 {
  width: 0.3125em;
}
.svg-inline--fa.fa-w-6 {
  width: 0.375em;
}
.svg-inline--fa.fa-w-7 {
  width: 0.4375em;
}
.svg-inline--fa.fa-w-8 {
  width: 0.5em;
}
.svg-inline--fa.fa-w-9 {
  width: 0.5625em;
}
.svg-inline--fa.fa-w-10 {
  width: 0.625em;
}
.svg-inline--fa.fa-w-11 {
  width: 0.6875em;
}
.svg-inline--fa.fa-w-12 {
  width: 0.75em;
}
.svg-inline--fa.fa-w-13 {
  width: 0.8125em;
}
.svg-inline--fa.fa-w-14 {
  width: 0.875em;
}
.svg-inline--fa.fa-w-15 {
  width: 0.9375em;
}
.svg-inline--fa.fa-w-16 {
  width: 1em;
}
.svg-inline--fa.fa-w-17 {
  width: 1.0625em;
}
.svg-inline--fa.fa-w-18 {
  width: 1.125em;
}
.svg-inline--fa.fa-w-19 {
  width: 1.1875em;
}
.svg-inline--fa.fa-w-20 {
  width: 1.25em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: 0.3em;
  width: auto;
}
.svg-inline--fa.fa-border {
  height: 1.5em;
}
.svg-inline--fa.fa-li {
  width: 2em;
}
.svg-inline--fa.fa-fw {
  width: 1.25em;
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: #ff253a;
  border-radius: 1em;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  color: #fff;
  height: 1.5em;
  line-height: 1;
  max-width: 5em;
  min-width: 1.5em;
  overflow: hidden;
  padding: 0.25em;
  right: 0;
  text-overflow: ellipsis;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: 0;
  right: 0;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: 0;
  left: 0;
  right: auto;
  top: auto;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  right: 0;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: 0;
  right: auto;
  top: 0;
  -webkit-transform: scale(0.25);
          transform: scale(0.25);
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-lg {
  font-size: 1.3333333333em;
  line-height: 0.75em;
  vertical-align: -0.0667em;
}

.fa-xs {
  font-size: 0.75em;
}

.fa-sm {
  font-size: 0.875em;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: 2.5em;
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: -2em;
  position: absolute;
  text-align: center;
  width: 2em;
  line-height: inherit;
}

.fa-border {
  border: solid 0.08em #eee;
  border-radius: 0.1em;
  padding: 0.2em 0.25em 0.15em;
}

.fa-pull-left {
  float: left;
}

.fa-pull-right {
  float: right;
}

.fa.fa-pull-left,
.fas.fa-pull-left,
.far.fa-pull-left,
.fal.fa-pull-left,
.fab.fa-pull-left {
  margin-right: 0.3em;
}
.fa.fa-pull-right,
.fas.fa-pull-right,
.far.fa-pull-right,
.fal.fa-pull-right,
.fab.fa-pull-right {
  margin-left: 0.3em;
}

.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
          animation: fa-spin 2s infinite linear;
}

.fa-pulse {
  -webkit-animation: fa-spin 1s infinite steps(8);
          animation: fa-spin 1s infinite steps(8);
}

@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}

@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {
  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical,
:root .fa-flip-both {
  -webkit-filter: none;
          filter: none;
}

.fa-stack {
  display: inline-block;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: #fff;
}

.sr-only {
  border: 0;
  clip: rect(0, 0, 0, 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
}

.sr-only-focusable:active, .sr-only-focusable:focus {
  clip: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  position: static;
  width: auto;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: 0.4;
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: 1;
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse {
  color: #fff;
}</style><link href="https://segmentfault.com/opensearch.xml" rel="search" title="SegmentFault" type="application/opensearchdescription+xml">
        <link rel="shortcut icon" href="https://assets.segmentfault.com/v-5de60fd7/global/img/favicon.ico">
        <link rel="apple-touch-icon" href="https://assets.segmentfault.com/v-5de60fd7/global/img/touch-icon.png">

        <meta content="#009a61" name="msapplication-TileColor">
        <meta name="msapplication-square150x150logo" content="https://assets.segmentfault.com/v-5de60fd7/global/img/touch-icon.png">
        <meta content="bcf7fd80dca60d53d46d5b46e1b990ca" name="baidu_union_verify">

        
        <link href="https://segmentfault.com/feeds/questions" rel="alternate" title="SegmentFault 最新问题" type="application/atom+xml">
        <link href="https://segmentfault.com/feeds/blogs" rel="alternate" title="SegmentFault 最新文章" type="application/atom+xml">
        
        
        
        
        
                    <link rel="stylesheet" href="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/global.css">
            <link rel="stylesheet" href="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/vendors.css">
                            <link rel="stylesheet" href="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/detail.css">
        

        
        <script async="" defer="" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/f.txt"></script><script type="text/javascript" async="" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/analytics.js.下载"></script><script async="" defer="" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/fl.js.下载"></script><script async="" defer="" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/spc.php"></script><script async="" defer="" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/spcjs.php"></script><script>
var _oa = [], OA_google = true;

function OA_script(src, cb) {
    var s = document.createElement('script'), m = document.getElementsByTagName('script')[0];
    
    if (cb) {
        s.onload = cb;
    }
    
    s.async = 1;
    s.defer = 1;
    s.src = src;
    m.parentNode.insertBefore(s, m);
}

function OA_show(name) {
    _oa.push(name);
    document.write('<div id="OA_holder_' + name + '"></div>');
}

OA_script('https://sponsor.segmentfault.com/spcjs.php?id=1&block=1&repu=0&tag=%E4%B8%AD%E9%97%B4%E4%BB%B6&v=5dcd2518');
</script>


                    <!-- 推荐引擎 -->
            <script charset="utf-8" id="ParadigmSDK" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/ParadigmSDK_v2.js.下载" data="216" defsi="594">
            </script>
            <script>
              ParadigmSDK.init("46e957bd9dea4acdaa15b4b64aff728f");
              ParadigmSDK.trackDetailPageShow();
            </script>
                            </head>
    <body><div class="custome-alert alert alert-warning topframe text-center my-0 sticky-top d-none rounded-0">
                <span class="alert-content"></span>
                <button type="button" class="close">
                    <span aria-hidden="true">×</span><span class="sr-only">Close</span>
                </button>
            </div>
<nav id="sf-header" class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
    <div class="container">
        <a class="navbar-brand text-hide sf-header-logo" href="https://segmentfault.com/">SegmentFault</a>

                    <a class="btn btn-primary d-lg-none ml-auto mr-2" href="https://segmentfault.com/user/login">注册登录</a>
        
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

                <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav font-weight-bold">
                <li class="nav-item">
                    <a href="https://segmentfault.com/" class="nav-link ">首页</a>
                </li>
                <li class="nav-item">
                    <a href="https://segmentfault.com/questions" class="nav-link ">问答</a>
                </li>
                <li class="nav-item">
                    <a href="https://segmentfault.com/blogs" class="nav-link active">专栏</a>
                </li>
                <li class="nav-item">
                    <a href="https://segmentfault.com/lives" class="nav-link ">课程</a>
                </li>
                <li class="nav-item">
                    <a href="https://segmentfault.com/events" class="nav-link ">活动</a>
                </li>
                <li class="nav-item dropdown hover-down">
                    <a href="https://segmentfault.com/a/1190000011145364###" id="navbarDiscover" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="nav-link  dropdown-toggle ">发现</a>
                    <div class="dropdown-menu" aria-labelledby="navbarDiscover">
                        <a class="dropdown-item" href="https://segmentfault.com/groups">圈子</a>
                        <a class="dropdown-item" href="https://segmentfault.com/tags">标签</a>
                        <a class="dropdown-item" href="https://segmentfault.com/groups?tab=jobs">酷工作</a>
                        <a class="dropdown-item" href="https://segmentfault.com/users">排行榜</a>
                        <a class="dropdown-item" href="https://segmentfault.com/badges">徽章</a>
                        <a class="dropdown-item" href="https://segmentfault.com/notes">笔记</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="https://docs.segmentfault.com/" target="_blank">开发手册</a>
                        <a class="dropdown-item" href="https://business.segmentfault.com/ads?utm_source=sf-header" target="_blank">广告投放<svg class="svg-inline--fa fa-external-link-square fa-w-14 ml-2 text-warning" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="external-link-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M448 80v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48zm-64 47.111C384 109.929 370.071 96 352.889 96H220.667c-12.887 0-23.333 10.447-23.333 23.334v14.904c0 13.138 10.843 23.686 23.976 23.324l56.002-1.588L69.908 361.908c-7.858 7.802-7.88 20.504-.05 28.334l19.899 19.899c7.83 7.83 20.532 7.808 28.334-.05l205.935-207.404-1.588 56.003c-.362 13.133 10.186 23.976 23.324 23.976h14.904c12.887 0 23.334-10.447 23.334-23.333V127.111z"></path></svg><!-- <i class="ml-2 text-warning fas fa-external-link-square"></i> --></a>
                    </div>
                </li>
            </ul>

            <form class="form-inline my-2 my-lg-0 flex-fill d-none d-xl-block px-4" action="https://segmentfault.com/search">
                <input class="form-control w-100" id="searchBox" name="q" type="search" value="" placeholder="搜索关键字" aria-label="搜索">
            </form>

            <ul class="navbar-nav navbar-user ml-auto align-self-center">
                                    <li class="nav-item d-none d-lg-flex">
                        <a href="https://segmentfault.com/user/login" class="btn btn-link mr-2">立即登录</a>
                    </li>
                    <li class="nav-item d-none d-lg-flex">
                        <a href="https://segmentfault.com/user/register" class="btn btn-primary">免费注册</a>
                    </li>
                            </ul>
        </div>
    </div>
</nav>

    <input id="articleId" value="1190000011145364" class="hidden">
    <div class="text-center d-none d-xl-block">
        <script type="text/javascript">
            OA_show(2);
        </script><div id="OA_holder_2"><div style="line-height: 0; background: #FAFAFA">
<div class="container text-center" style="position: relative;">
<!--<a href="https://segmentfault.com/user/login" class="small text-muted" style="position: absolute; top: 10px; right: 15px;">登录免广告</a>--><script async="" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/f.txt"></script>
<!-- 导航下横幅广告（大型） -->
<ins class="adsbygoogle" style="display:inline-block;width:970px;height:90px" data-ad-client="ca-pub-6330872677300335" data-ad-slot="6450634185"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><div id="beacon_d010458605" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/lg.php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div></div>
</div>
</div>
    </div>
    <div class="position-relative">
        <div class="container my-4">
            <div class="row">
                                <div class="col-12 col-xl w-0">
                    <div class="card border-0 mb-4">
                        <div class="card-body p-lg-30">
                            <div class="d-flex justify-content-between align-items-center font-size-14 mb-3">
                                <div class="information d-flex align-items-center">
                                    <a class="d-flex align-items-centers mr-1" href="https://segmentfault.com/u/hoby">
                                        <picture class="mr-2">
                                            <img class="d-inline-block rounded-circle" width="24" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/1167185833-59acbf916cae2_big64" aria-hidden="true">
                                        </picture>
                                        <strong>安静de沉淀</strong>
                                    </a>
                                    <ul class="list-inline mb-0 authentication-info">
                                                                                        <li class="list-inline-item">
                                                <svg class="svg-inline--fa fa-dice-d8 fa-w-16" style="color: #BF7158;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="dice-d8" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M225.53 2.52L2.36 233.83c-4.21 4.37-2.56 11.71 3.1 13.77l234.13 85.06V8.39c-.01-7.49-8.91-11.21-14.06-5.87zm284.11 231.31L286.47 2.52C281.32-2.82 272.41.9 272.41 8.4v324.27l234.13-85.06c5.66-2.07 7.31-9.42 3.1-13.78zM33.53 310.38l192 199.1c5.15 5.34 14.06 1.62 14.06-5.88V368.29L42.13 296.61c-8.21-2.98-14.72 7.43-8.6 13.77zm436.34-13.77l-197.46 71.68V503.6c0 7.5 8.91 11.22 14.06 5.88l192-199.1c6.12-6.34-.39-16.75-8.6-13.77z"></path></svg><!-- <i class="fas fa-dice-d8" style="color:#BF7158"></i> -->
                                                <span style="color: #BF7158;font-weight:bold">4.6k</span>
                                            </li>
                                                                                    </ul>
                                </div>
                                
                            </div>
                            <div class="functional-area-left sticky-top d-none d-lg-block"><div class="text-center"><button class="func-btn mainLike btn btn-light 
                            column" data-id="1190000011145364">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up"></i> -->
                            <span class="mainLikeNum">929</span>
                        </button><button class="func-btn mainBookmark btn btn-light 
                                column " data-id="1190000011145364">
                                <svg class="svg-inline--fa fa-bookmark fa-w-12" aria-hidden="true" focusable="false" data-prefix="far" data-icon="bookmark" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512" data-fa-i2svg=""><path fill="currentColor" d="M336 0H48C21.49 0 0 21.49 0 48v464l192-112 192 112V48c0-26.51-21.49-48-48-48zm0 428.43l-144-84-144 84V54a6 6 0 0 1 6-6h276c3.314 0 6 2.683 6 5.996V428.43z"></path></svg><!-- <i class="far fa-bookmark"></i> -->
                                
                            </button><a class="func-btn show-column btn btn-light
                             column " href="https://segmentfault.com/a/1190000011145364#comment-area">
                            <svg class="svg-inline--fa fa-comment-alt-lines fa-w-16" aria-hidden="true" focusable="false" data-prefix="far" data-icon="comment-alt-lines" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M448 0H64C28.7 0 0 28.7 0 64v288c0 35.3 28.7 64 64 64h96v84c0 7.1 5.8 12 12 12 2.4 0 4.9-.7 7.1-2.4L304 416h144c35.3 0 64-28.7 64-64V64c0-35.3-28.7-64-64-64zm16 352c0 8.8-7.2 16-16 16H288l-12.8 9.6L208 428v-60H64c-8.8 0-16-7.2-16-16V64c0-8.8 7.2-16 16-16h384c8.8 0 16 7.2 16 16v288zm-96-216H144c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16v-16c0-8.8-7.2-16-16-16zm-96 96H144c-8.8 0-16 7.2-16 16v16c0 8.8 7.2 16 16 16h128c8.8 0 16-7.2 16-16v-16c0-8.8-7.2-16-16-16z"></path></svg><!-- <i class="far fa-comment-alt-lines"></i> -->
                            
                        </a><div class="dropdown dropup d-inline-block">
                        <button class="func-btn btn btn-light
                        column" id="func_share" data-toggle="dropdown">
                        <svg class="svg-inline--fa fa-share-alt fa-w-14" aria-hidden="true" focusable="false" data-prefix="far" data-icon="share-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M352 320c-25.6 0-48.9 10-66.1 26.4l-98.3-61.5c5.9-18.8 5.9-39.1 0-57.8l98.3-61.5C303.1 182 326.4 192 352 192c53 0 96-43 96-96S405 0 352 0s-96 43-96 96c0 9.8 1.5 19.6 4.4 28.9l-98.3 61.5C144.9 170 121.6 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.6 0 48.9-10 66.1-26.4l98.3 61.5c-2.9 9.4-4.4 19.1-4.4 28.9 0 53 43 96 96 96s96-43 96-96-43-96-96-96zm0-272c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM96 304c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm256 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"></path></svg><!-- <i class="far fa-share-alt"></i> -->
                        
                        </button>
                        <div class="dropdown-menu shareContent" aria-labelledby="func_share">
                            <div class="text-center mt-2" style="cursor: auto">
                                <div class="qr"><img crossorigin="anonymous" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJMAAACTCAYAAACK5SsVAAALvUlEQVR4Xu2d0VH0MAyEQwE0QAFQAG1QBwVAHRRAHfTBOzRAAfDOP4Gbm9yNknzKKg733/LIKJa8Wsuyovguvr+/vzv/GYECBC56Mj09PXXv7+8Hw/Ucu7i4aP6/x8fH7vr6+kAvtS96VsEo0kt1RM9GtlCcFVyoDkWut++HTPf3993r66uCe9mzz8/P3e3t7cF41L7oWcWwSC/VQW2m9im4UB2KXG+fyTSBoMnE6WUyzWBlMplMHAGTqQyrycj08PDQ3dzclCmLBoqS1Cg36A8Hn5+fs7b0ifvl5eWsHBWgkSmax93dXXd1dTV7kKA4R3OL7KPjUQwyfhvNmWiiqRhFnaXoUJ6l9lXLUZupXjoelRvTazIVJODUqVROderxaZiOR+VMJorUQI46v1qOmkr10vGonMlEkTKZZpEqIROtREeV1KiCS1dWdSWaVnrf3t66r6+vA3Bp8VCRm/XmTkDBj2KQ8VsqZ1Kqugq4FLTICYrN0XhbzYPOjdpHCUvHmywN0EHWMIq8TqGnTZOp6xQMKA9MJroSBnIZcCsXhSPTH3CCsiq9zXVdZvGcbM4UVYRpshhViaMkP5J7eXnpPj4+DngWJeqRfVFVXKna01xSWVBnQaatoka1YxbstPtHTKaiOo7JFCfWNJJQEtPxTjoBN5lMpgMOVIfpzCpaetLyNjdO4pNNwKPIFCWztIodtblUt31E4ynV/erFqEb7/4pMSh5An6UObDEetaU6mpa8m2tlFNmCqLPoaqPjUQe2GI/a0spvjkzU68mXq3RYSghXwFesgFNnOTL90XdztBebJsd0VUZ6acU6siWqYtO2mciWaDz60SQ9ICiRqZXfUtucEg0UMFo8q0Qwuiho7qJ0RNBnFV+WJOCKAS0IQYHcyqlb6W3lN0emCaQVctICaouIaDLNIEC3FhoRWzj1bCNTVK2lfcNUjiaf9CNHmghHTqXtJrTNhUamar1b+u1kL66gzjo3ueotjY530hdXnBtJ6Hyp86vlTKYVi6rU+dVy1SSh45lMJhPlyqzcnkxKhXRWS1IgSiBp1TnqsY6SctqLTdtSqH3VveJ/zW8/CXjS339CnJYGqFz1pGgZQClJVNusjmcyqQiOPG8yrQTsGsPSiEPlqm00maoRXXE8ShIqV23q2ZKpxZ3VkbNo/zOtgNPkXfnwkZKOVtmj8ap7xatvrxnz2yoV8BYvSKkO6vxqueqIqIxXHSXTLSgKuNTRFCAqp9hc/Wy1zcp4JtPAuwqQ1SSh41XbrIxnMplMB7w9CzIpLRS0whwBSW9BoZFEOSBEz1Kbae+5Ml5Ueaf3hdMPUUvezSkvKqmjaZimuZqil+qgNtMKuDIe1aHiIp/mTKbYBYrzKabU+SbTTM5UDRDdqhyZFlxcQVlPVxF1AnWqyUQ9FMtV+2OyBYVWxRUy0cosTSCrK9v0gBC5S/lwlF51SJNopcoeHRDGWnhGuwbonq+QiepoEYW0dc6epsd7iosSXdbYAUwmxoMSKZNpBkZHJs4zk8lk4myZkTwLMtEWD/rLlRQ0pYeZJts0yaeVaKVSTqvY0YGDJtGRHJ0b9cfYx66puwYoSahc2ZKfGIgms0qST+er2FKNlZK8p1tQqnMhxXgFSMWB1GaT6fdnMRyZJphqMsXgODItCG8m0wIyKR8RRoDT8ehtKfRKP3pDCf0hnmhuUUJPK+VR5Zgm9Eq1O9JRfRVjfyBapWipVFdpIqzkKdX5IA161ZGO6lX8QW3udZhMO6QVclKnUsdQW6hek2mAQHUkqR6POtVkWlABV1aCtzn+a02UxIo/6ALYb3PVFXA6Hk0+6Q/sUDl6aKD9z9UJPb2lhX7EGuFMW2TotYb94efP1ZmUIiNdqZnVdjwmzWeq5Wh0qZ5bBlOTiaJVkKgruZrJNJNEU4CS/p4Vr169CkloBKNYVc9tFsydwJ98neJtLv7595MhE61Y08SQVoRpok5/dIfK0epv5MDqqw5pZKJY0bnRtwXpyNSC9YoOCrgilwGN/Lgi3W4Um+n2qpRbMrikKuAUIGpACyAVwBUnUKxaYKDMg/pynzMpUYMqU3RsBbjiBJNpgB51oMmkVawpzoqcsiiof9ORqfrmEZqoVx8QIsfQKnaEAT2YRI6hc6N3iNP+cfoWgB5qmragUIZTObpSq7dXusrpPKh9yniKzRmcUwm4YlQ1GJlJHuumz9KaF82PKAZULx1P8RvFqtdhMu2QVk59JtMviCaTyTQZ4NKRKUqylJtHaGsElaN5Be3ZplVsigH9Bc5oHhT76Fl6aIiepYepNJnoHk3DOTWAyilkojoUDKgOOg+aCylbM82jMnNLXUNoMsUvYTOAk8OAyTRAgIJL5eiKpiuVyq2xek2miSS1haNb6PA2p0fdn21Ouf0ic03d5eXlAS9o9Tdql6DPKsk2TVxpdZrOo/oKSJqoKz30k6UBGg3oVkDzgK22PmqfIqfknBRnih+NxFSvyaQwY8GzJtNMYp1hLsGfriwaOZVkm9ibkTGZTKYMXyZlz4JMtBJNWzdoRZhWfxUn0KQyYgFNXKmcMo9IB/1IlLbNZNpNjg9T+5yJbi0t5JRtU0kqqd5qDJTtmj5bPbex8LvpR5jU+cqKVvYomm8pcpQQ1RhU2+zINMM0BXAawUymAQLVgNOQTJ3gyBQjoPhtcpujvdh0tSnV6chQmtDTSr6SaCpY0bYPqiPCimJAk3e6ve63Obp6KZlo1KCGKnqrbVGwUqIu1avIqTiPdlpWO0ExVHm2eh7UWdWHC6pXkVNxNpl26NMoSZ1lMs0gpTB3q2cdmSj9tY9JJ3Om6uo0Tcrp7Rw0ktB7u+l41DXK2wJ6P3q1XNRKk8Fl069TaLSicjQKtUiEqc10O6QkrpYzmQaIUmdlQCMOM5kaO0EBnDrfZCLUH5ehOE/mTC2cYDLFSa/m/tqnS8ikVFLpdGill5Iu0kvvu6YfcEYHBKqXVp2j8ZQf4qE95ZHe9D3g1PlbySlkokn5Gu+qCF5b7QDEtoxMj1+qaJkZvFLWZOI38NLFU+mffiyTaYCoI5NGL5PJZNIYdITfzzan/Fx7ZI1SmaUfKio/RU8/mlSuF1T66iNMlQMCzctoL/tYP3rq4ooyGk8MlDmKEnsokNSBRGcvQ/M8ap+yDbfQsa8zUWUUSEXOZIrRM5kWsMpkMpkW0IaDpgyuRF2F2N7mBl5TKq7U+VGSqjgw0ksr+Yotyo/kREk+tUV5g0BzRLooJnOmaqfSYloLvdW2UMCr5eiipdFZyctMpoE3qKMVIlIdVM5kKnIgBZLKKQ6kz1bLKXPzNkfRWyBHHe3INP6eMHXXAG1liCrgLXq7qV6lv50+S29foXkKbQWJMFDuM6dvC0p+ip4GAQoaTcCrk0ol7FMMttLRQu/+RS8N8dSBivEmU5vuS7q46UIxmWaQqgZcWWTUqVSuem4mk8l0gIC686QScFXZ0l/dphXmiBvRDSo0IaU927R1I7KPJurRs9V6o2p8pHesQn8SZKI5HT220+2Gjle9ZWy5VR0v+AwGJtMOLSXxN5kGPeB05W+1zVH76CpyZIpjn7qgHJkcmfbMMplmEowoqkWJa5SoV//IEE1mafuPckCgh5XMm4uzjExKjkNXL02ilS2cbuvUZmrLmJzJtPMIzQepY0ymAQLK6qUJrroSlGMsqXnReVDiVEeS6vFUfzgyOTLtOdmUTLSfmlZ6VeOPowttD4miLp0bvZOcRivlekYlMtG3CtF8xz5OTUUmChCVqyZTi7yH2kwxUAihPEvnQeV6W0ympNcz4CaHTm83JtMAAeoYRa46iaa2LCVS/5yigz5bLefItMDj1AkLhv5/I5PSc0xvQaH3TlMH0mp3ixtU6HWFyqFBeVbBdKzWdhK3oKwxcRI5aEKvbKVUh1L3o88qcpPbHAF7DRllQpR01G7qaJPpFwFHpglmmUy5w4DJZDLtEVB2hX1kotVfuj0oclFyTG/7oHLUPgUXmuRTHRSXaG70WUWu1/sP/OuDSZdk3Y8AAAAASUVORK5CYII=" width="147.5" height="147.5" style="width: 118px; height: 118px;"></div>
                                微信扫一扫
                            </div>
                            <div class="dropdown-divider"></div>
                        <a class="dropdown-item share_weibo" data-share="weibo" href="http://weibo.com/segmentfault" target="_blank"><svg class="svg-inline--fa fa-weibo fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="weibo" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"></path></svg><!-- <i class="fab fa-weibo fa-fw"></i> --> 新浪微博</a><a class="dropdown-item share_twitter" data-share="twitter" href="https://twitter.com/segment_fault" target="_blank"><svg class="svg-inline--fa fa-twitter fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg><!-- <i class="fab fa-twitter fa-fw"></i> --> Twitter</a><a class="dropdown-item share_facebook" data-share="facebook" href="javascript:;" target="_blank"><svg class="svg-inline--fa fa-facebook-square fa-w-14 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"></path></svg><!-- <i class="fab fa-facebook-square fa-fw"></i> --> Facebook</a></div>
                    </div></div></div>
                            <h1 class="h2 mb-3">
                                <a class="text-body" href="https://segmentfault.com/a/1190000011145364">前端常见跨域解决方案（全）</a>
                            </h1>
                            <div class="d-flex flex-wrap align-items-center mb-4">
                                <div class="m-n1"><a class="m-1 badge-tag" href="https://segmentfault.com/t/%E4%B8%AD%E9%97%B4%E4%BB%B6" data-toggle="popover" data-img="" data-placement="top" data-original-title="中间件" data-id="1040000002406347">
                                                                                        中间件
                                        </a><a class="m-1 badge-tag" href="https://segmentfault.com/t/%E8%B7%A8%E5%9F%9F" data-toggle="popover" data-img="" data-placement="top" data-original-title="跨域" data-id="1040000000090326">
                                                                                        跨域
                                        </a><a class="m-1 badge-tag" href="https://segmentfault.com/t/postmessage" data-toggle="popover" data-img="" data-placement="top" data-original-title="postmessage" data-id="1040000000320900">
                                                                                        postmessage
                                        </a><a class="m-1 badge-tag" href="https://segmentfault.com/t/nginx" data-toggle="popover" data-img="https://avatar-static.segmentfault.com/194/948/1949480134-1040000000090145_big64" data-placement="top" data-original-title="nginx" data-id="1040000000090145">
                                                                                        nginx
                                        </a><a class="m-1 badge-tag" href="https://segmentfault.com/t/cors" data-toggle="popover" data-img="" data-placement="top" data-original-title="cors" data-id="1040000000408858">
                                                                                        cors
                                        </a></div>
                                <div class="font-size-14">
                                   <span class="text-secondary ml-2">&nbsp;阅读约 31 分钟</span>
                                                                                                        </div>
                            </div>
                            <article class="article fmt article__content" data-id="1190000011145364" data-license="">
                                
<h3 id="item-1"><strong>什么是跨域？</strong></h3>
<p>跨域是指一个域下的文档或脚本试图去请求另一个域下的资源，这里跨域是广义的。 </p>
<p>广义的跨域：</p>
<pre class="hljs xml"><code>1.) 资源跳转： A链接、重定向、表单提交
2.) 资源嵌入： <span class="hljs-tag">&lt;<span class="hljs-name">link</span>&gt;</span>、<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="handlebars"><span class="xml">、<span class="hljs-tag">&lt;<span class="hljs-name">img</span>&gt;</span>、<span class="hljs-tag">&lt;<span class="hljs-name">frame</span>&gt;</span>等dom标签，还有样式中background:url()、@font-face()等文件外链
3.) 脚本请求： js发起的ajax请求、dom和js对象的跨域操作等</span></span></code></pre>
<p>其实我们通常所说的跨域是狭义的，是由浏览器同源策略限制的一类请求场景。</p>
<p><strong>什么是同源策略？</strong><br>同源策略/SOP（Same origin policy）是一种约定，由Netscape公司1995年引入浏览器，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到XSS、CSFR等攻击。所谓同源是指"协议+域名+端口"三者相同，即便两个不同的域名指向同一个ip地址，也非同源。</p>
<p>同源策略限制以下几种行为：</p>
<pre class="hljs lsl"><code><span class="hljs-number">1.</span>) Cookie、LocalStorage 和 IndexDB 无法读取
<span class="hljs-number">2.</span>) DOM 和 Js对象无法获得
<span class="hljs-number">3.</span>) AJAX 请求不能发送</code></pre>
<h3 id="item-2"><strong>常见跨域场景</strong></h3>
<pre class="hljs dts"><code>URL                                      说明                    是否允许通信
<span class="hljs-symbol">http:</span><span class="hljs-comment">//www.domain.com/a.js</span>
<span class="hljs-symbol">http:</span><span class="hljs-comment">//www.domain.com/b.js         同一域名，不同文件或路径           允许</span>
<span class="hljs-symbol">http:</span><span class="hljs-comment">//www.domain.com/lab/c.js</span>
<span class="hljs-symbol">
http:</span><span class="hljs-comment">//www.domain.com:8000/a.js</span>
<span class="hljs-symbol">http:</span><span class="hljs-comment">//www.domain.com/b.js         同一域名，不同端口                不允许</span>
<span class="hljs-symbol"> 
http:</span><span class="hljs-comment">//www.domain.com/a.js</span>
<span class="hljs-symbol">https:</span><span class="hljs-comment">//www.domain.com/b.js        同一域名，不同协议                不允许</span>
<span class="hljs-symbol"> 
http:</span><span class="hljs-comment">//www.domain.com/a.js</span>
<span class="hljs-symbol">http:</span><span class="hljs-comment">//192.168.4.12/b.js           域名和域名对应相同ip              不允许</span>
<span class="hljs-symbol"> 
http:</span><span class="hljs-comment">//www.domain.com/a.js</span>
<span class="hljs-symbol">http:</span><span class="hljs-comment">//x.domain.com/b.js           主域相同，子域不同                不允许</span>
<span class="hljs-symbol">http:</span><span class="hljs-comment">//domain.com/c.js</span>
<span class="hljs-symbol"> 
http:</span><span class="hljs-comment">//www.domain1.com/a.js</span>
<span class="hljs-symbol">http:</span><span class="hljs-comment">//www.domain2.com/b.js        不同域名                         不允许</span></code></pre>
<h3 id="item-3"><strong>跨域解决方案</strong></h3>
<p>1、 通过jsonp跨域<br>2、 document.domain + iframe跨域<br>3、 location.hash + iframe<br>4、 window.name + iframe跨域<br>5、 postMessage跨域<br>6、 跨域资源共享（CORS）<br>7、 nginx代理跨域<br>8、 nodejs中间件代理跨域<br>9、 WebSocket协议跨域</p>
<h4><strong>一、 通过jsonp跨域</strong></h4>
<p>通常为了减轻web服务器的负载，我们把js、css，img等静态资源分离到另一台独立域名的服务器上，在html页面中再通过相应的标签从不同域名下加载静态资源，而被浏览器允许，基于此原理，我们可以通过动态创建script，再请求一个带参网址实现跨域通信。</p>
<p>1.）原生实现：</p>
<pre class="xml hljs"><code class="html"> <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-keyword">var</span> script = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'script'</span>);
    script.type = <span class="hljs-string">'text/javascript'</span>;

    <span class="hljs-comment">// 传参一个回调函数名给后端，方便后端返回时执行这个在前端定义的回调函数</span>
    script.src = <span class="hljs-string">'http://www.domain2.com:8080/login?user=admin&amp;callback=handleCallback'</span>;
    <span class="hljs-built_in">document</span>.head.appendChild(script);

    <span class="hljs-comment">// 回调执行函数</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleCallback</span>(<span class="hljs-params">res</span>) </span>{
        alert(<span class="hljs-built_in">JSON</span>.stringify(res));
    }
 </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<p>服务端返回如下（返回时即执行全局函数）：</p>
<pre class="javascript hljs"><code class="js" style="word-break: break-word; white-space: initial;">handleCallback({<span class="hljs-string">"status"</span>: <span class="hljs-literal">true</span>, <span class="hljs-string">"user"</span>: <span class="hljs-string">"admin"</span>})</code></pre>
<p>2.）jquery ajax：</p>
<pre class="javascript hljs"><code class="js">$.ajax({
    <span class="hljs-attr">url</span>: <span class="hljs-string">'http://www.domain2.com:8080/login'</span>,
    <span class="hljs-attr">type</span>: <span class="hljs-string">'get'</span>,
    <span class="hljs-attr">dataType</span>: <span class="hljs-string">'jsonp'</span>,  <span class="hljs-comment">// 请求方式为jsonp</span>
    jsonpCallback: <span class="hljs-string">"handleCallback"</span>,    <span class="hljs-comment">// 自定义回调函数名</span>
    data: {}
});</code></pre>
<p>3.）vue.js：</p>
<pre class="javascript hljs"><code class="js"><span class="hljs-keyword">this</span>.$http.jsonp(<span class="hljs-string">'http://www.domain2.com:8080/login'</span>, {
    <span class="hljs-attr">params</span>: {},
    <span class="hljs-attr">jsonp</span>: <span class="hljs-string">'handleCallback'</span>
}).then(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> {
    <span class="hljs-built_in">console</span>.log(res); 
})</code></pre>
<p>后端node.js代码示例：</p>
<pre class="javascript hljs"><code class="js"><span class="hljs-keyword">var</span> querystring = <span class="hljs-built_in">require</span>(<span class="hljs-string">'querystring'</span>);
<span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);
<span class="hljs-keyword">var</span> server = http.createServer();

server.on(<span class="hljs-string">'request'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) </span>{
    <span class="hljs-keyword">var</span> params = qs.parse(req.url.split(<span class="hljs-string">'?'</span>)[<span class="hljs-number">1</span>]);
    <span class="hljs-keyword">var</span> fn = params.callback;

    <span class="hljs-comment">// jsonp返回设置</span>
    res.writeHead(<span class="hljs-number">200</span>, { <span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'text/javascript'</span> });
    res.write(fn + <span class="hljs-string">'('</span> + <span class="hljs-built_in">JSON</span>.stringify(params) + <span class="hljs-string">')'</span>);

    res.end();
});

server.listen(<span class="hljs-string">'8080'</span>);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Server is running at port 8080...'</span>);</code></pre>
<p>jsonp缺点：只能实现get一种请求。</p>
<h4><strong>二、 document.domain + iframe跨域</strong></h4>
<p>此方案仅限主域相同，子域不同的跨域应用场景。</p>
<p>实现原理：两个页面都通过js强制设置document.domain为基础主域，就实现了同域。</p>
<p>1.）父窗口：(<a href="http://www.domain.com/a.html)" rel="nofollow noreferrer">http://www.domain.com/a.html)</a></p>
<pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"iframe"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://child.domain.com/b.html"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-built_in">document</span>.domain = <span class="hljs-string">'domain.com'</span>;
    <span class="hljs-keyword">var</span> user = <span class="hljs-string">'admin'</span>;
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<p>2.）子窗口：(<a href="http://child.domain.com/b.html)" rel="nofollow noreferrer">http://child.domain.com/b.html)</a></p>
<pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-built_in">document</span>.domain = <span class="hljs-string">'domain.com'</span>;
    <span class="hljs-comment">// 获取父窗口中变量</span>
    alert(<span class="hljs-string">'get js data from parent ---&gt; '</span> + <span class="hljs-built_in">window</span>.parent.user);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<h4><strong>三、 location.hash + iframe跨域</strong></h4>
<p>实现原理： a欲与b跨域相互通信，通过中间页c来实现。 三个页面，不同域之间利用iframe的location.hash传值，相同域之间直接js访问来通信。</p>
<p>具体实现：A域：a.html -&gt; B域：b.html -&gt; A域：c.html，a与b不同域只能通过hash值单向通信，b与c也不同域也只能单向通信，但c与a同域，所以c可通过parent.parent访问a页面所有对象。</p>
<p>1.）a.html：(<a href="http://www.domain1.com/a.html)" rel="nofollow noreferrer">http://www.domain1.com/a.html)</a></p>
<pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"iframe"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://www.domain2.com/b.html"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display:none;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-keyword">var</span> iframe = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'iframe'</span>);

    <span class="hljs-comment">// 向b.html传hash值</span>
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        iframe.src = iframe.src + <span class="hljs-string">'#user=admin'</span>;
    }, <span class="hljs-number">1000</span>);
    
    <span class="hljs-comment">// 开放给同域c.html的回调方法</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onCallback</span>(<span class="hljs-params">res</span>) </span>{
        alert(<span class="hljs-string">'data from c.html ---&gt; '</span> + res);
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<p>2.）b.html：(<a href="http://www.domain2.com/b.html)" rel="nofollow noreferrer">http://www.domain2.com/b.html)</a></p>
<pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"iframe"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://www.domain1.com/c.html"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display:none;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-keyword">var</span> iframe = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'iframe'</span>);

    <span class="hljs-comment">// 监听a.html传来的hash值，再传给c.html</span>
    <span class="hljs-built_in">window</span>.onhashchange = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        iframe.src = iframe.src + location.hash;
    };
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<p>3.）c.html：(<a href="http://www.domain1.com/c.html)" rel="nofollow noreferrer">http://www.domain1.com/c.html)</a></p>
<pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// 监听b.html传来的hash值</span>
    <span class="hljs-built_in">window</span>.onhashchange = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// 再通过操作同域a.html的js回调，将结果传回</span>
        <span class="hljs-built_in">window</span>.parent.parent.onCallback(<span class="hljs-string">'hello: '</span> + location.hash.replace(<span class="hljs-string">'#user='</span>, <span class="hljs-string">''</span>));
    };
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<h4><strong>四、 window.name + iframe跨域</strong></h4>
<p>window.name属性的独特之处：name值在不同的页面（甚至不同域名）加载后依旧存在，并且可以支持非常长的 name 值（2MB）。</p>
<p>1.）a.html：(<a href="http://www.domain1.com/a.html)" rel="nofollow noreferrer">http://www.domain1.com/a.html)</a></p>
<pre class="javascript hljs"><code class="js"><span class="hljs-keyword">var</span> proxy = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">url, callback</span>) </span>{
    <span class="hljs-keyword">var</span> state = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> iframe = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'iframe'</span>);

    <span class="hljs-comment">// 加载跨域页面</span>
    iframe.src = url;

    <span class="hljs-comment">// onload事件会触发2次，第1次加载跨域页，并留存数据于window.name</span>
    iframe.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (state === <span class="hljs-number">1</span>) {
            <span class="hljs-comment">// 第2次onload(同域proxy页)成功后，读取同域window.name中数据</span>
            callback(iframe.contentWindow.name);
            destoryFrame();

        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (state === <span class="hljs-number">0</span>) {
            <span class="hljs-comment">// 第1次onload(跨域页)成功后，切换到同域代理页面</span>
            iframe.contentWindow.location = <span class="hljs-string">'http://www.domain1.com/proxy.html'</span>;
            state = <span class="hljs-number">1</span>;
        }
    };

    <span class="hljs-built_in">document</span>.body.appendChild(iframe);

    <span class="hljs-comment">// 获取数据以后销毁这个iframe，释放内存；这也保证了安全（不被其他域frame js访问）</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">destoryFrame</span>(<span class="hljs-params"></span>) </span>{
        iframe.contentWindow.document.write(<span class="hljs-string">''</span>);
        iframe.contentWindow.close();
        <span class="hljs-built_in">document</span>.body.removeChild(iframe);
    }
};

<span class="hljs-comment">// 请求跨域b页面数据</span>
proxy(<span class="hljs-string">'http://www.domain2.com/b.html'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)</span>{
    alert(data);
});</code></pre>
<p>2.）proxy.html：(<a href="http://www.domain1.com/proxy.html)" rel="nofollow noreferrer">http://www.domain1.com/proxy....</a><br>中间代理页，与a.html同域，内容为空即可。</p>
<p>3.）b.html：(<a href="http://www.domain2.com/b.html)" rel="nofollow noreferrer">http://www.domain2.com/b.html)</a></p>
<pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-built_in">window</span>.name = <span class="hljs-string">'This is domain2 data!'</span>;
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<p>总结：通过iframe的src属性由外域转向本地域，跨域数据即由iframe的window.name从外域传递到本地域。这个就巧妙地绕过了浏览器的跨域访问限制，但同时它又是安全操作。</p>
<h4><strong>五、 postMessage跨域</strong></h4>
<p>postMessage是HTML5 XMLHttpRequest Level 2中的API，且是为数不多可以跨域操作的window属性之一，它可用于解决以下方面的问题：<br>a.） 页面和其打开的新窗口的数据传递<br>b.） 多窗口之间消息传递<br>c.） 页面与嵌套的iframe消息传递<br>d.） 上面三个场景的跨域数据传递</p>
<p>用法：postMessage(data,origin)方法接受两个参数<br>data： html5规范支持任意基本类型或可复制的对象，但部分浏览器只支持字符串，所以传参时最好用JSON.stringify()序列化。<br>origin： 协议+主机+端口号，也可以设置为"*"，表示可以传递给任意窗口，如果要指定和当前窗口同源的话设置为"/"。</p>
<p>1.）a.html：(<a href="http://www.domain1.com/a.html)" rel="nofollow noreferrer">http://www.domain1.com/a.html)</a></p>
<pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"iframe"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"http://www.domain2.com/b.html"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"display:none;"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">       
    <span class="hljs-keyword">var</span> iframe = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'iframe'</span>);
    iframe.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> data = {
            <span class="hljs-attr">name</span>: <span class="hljs-string">'aym'</span>
        };
        <span class="hljs-comment">// 向domain2传送跨域数据</span>
        iframe.contentWindow.postMessage(<span class="hljs-built_in">JSON</span>.stringify(data), <span class="hljs-string">'http://www.domain2.com'</span>);
    };

    <span class="hljs-comment">// 接受domain2返回数据</span>
    <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'message'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        alert(<span class="hljs-string">'data from domain2 ---&gt; '</span> + e.data);
    }, <span class="hljs-literal">false</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<p>2.）b.html：(<a href="http://www.domain2.com/b.html)" rel="nofollow noreferrer">http://www.domain2.com/b.html)</a></p>
<pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-comment">// 接收domain1的数据</span>
    <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'message'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        alert(<span class="hljs-string">'data from domain1 ---&gt; '</span> + e.data);

        <span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.parse(e.data);
        <span class="hljs-keyword">if</span> (data) {
            data.number = <span class="hljs-number">16</span>;

            <span class="hljs-comment">// 处理后再发回domain1</span>
            <span class="hljs-built_in">window</span>.parent.postMessage(<span class="hljs-built_in">JSON</span>.stringify(data), <span class="hljs-string">'http://www.domain1.com'</span>);
        }
    }, <span class="hljs-literal">false</span>);
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<h4><strong>六、 跨域资源共享（CORS）</strong></h4>
<p>普通跨域请求：只服务端设置Access-Control-Allow-Origin即可，前端无须设置，若要带cookie请求：前后端都需要设置。</p>
<p>需注意的是：由于同源策略的限制，所读取的cookie为跨域请求接口所在域的cookie，而非当前页。如果想实现当前页cookie的写入，可参考下文：七、nginx反向代理中设置proxy_cookie_domain 和 八、NodeJs中间件代理中cookieDomainRewrite参数的设置。</p>
<p>目前，所有浏览器都支持该功能(IE8+：IE8/9需要使用XDomainRequest对象来支持CORS）)，CORS也已经成为主流的跨域解决方案。</p>
<h5><strong>1、 前端设置：</strong></h5>
<p>1.）原生ajax</p>
<pre class="javascript hljs"><code class="js"><span class="hljs-comment">// 前端设置是否带cookie</span>
xhr.withCredentials = <span class="hljs-literal">true</span>;</code></pre>
<p>示例代码：</p>
<pre class="javascript hljs"><code class="js"><span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest(); <span class="hljs-comment">// IE8/9需用window.XDomainRequest兼容</span>

<span class="hljs-comment">// 前端设置是否带cookie</span>
xhr.withCredentials = <span class="hljs-literal">true</span>;

xhr.open(<span class="hljs-string">'post'</span>, <span class="hljs-string">'http://www.domain2.com:8080/login'</span>, <span class="hljs-literal">true</span>);
xhr.setRequestHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'application/x-www-form-urlencoded'</span>);
xhr.send(<span class="hljs-string">'user=admin'</span>);

xhr.onreadystatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (xhr.readyState == <span class="hljs-number">4</span> &amp;&amp; xhr.status == <span class="hljs-number">200</span>) {
        alert(xhr.responseText);
    }
};</code></pre>
<p>2.）jQuery ajax</p>
<pre class="javascript hljs"><code class="js">$.ajax({
    ...
&nbsp; &nbsp;xhrFields: {
&nbsp; &nbsp; &nbsp; &nbsp;<span class="hljs-attr">withCredentials</span>: <span class="hljs-literal">true</span>    <span class="hljs-comment">// 前端设置是否带cookie</span>
&nbsp; &nbsp;},
&nbsp; &nbsp;<span class="hljs-attr">crossDomain</span>: <span class="hljs-literal">true</span>,   <span class="hljs-comment">// 会让请求头中包含跨域的额外信息，但不会含cookie</span>
    ...
});</code></pre>
<p>3.）vue框架</p>
<p>a.) axios设置：</p>
<pre class="javascript hljs"><code class="js" style="word-break: break-word; white-space: initial;">axios.defaults.withCredentials = <span class="hljs-literal">true</span></code></pre>
<p>b.) vue-resource设置：</p>
<pre class="javascript hljs"><code class="js" style="word-break: break-word; white-space: initial;">Vue.http.options.credentials = <span class="hljs-literal">true</span></code></pre>
<h5><strong>2、 服务端设置：</strong></h5>
<p>若后端设置成功，前端浏览器控制台则不会出现跨域报错信息，反之，说明没设成功。</p>
<p>1.）Java后台：</p>
<pre class="java hljs"><code class="java"><span class="hljs-comment">/*
 * 导入包：import javax.servlet.http.HttpServletResponse;
 * 接口参数中定义：HttpServletResponse response
 */</span>

<span class="hljs-comment">// 允许跨域访问的域名：若有端口需写全（协议+域名+端口），若没有端口末尾不用加'/'</span>
response.setHeader(<span class="hljs-string">"Access-Control-Allow-Origin"</span>, <span class="hljs-string">"http://www.domain1.com"</span>); 

<span class="hljs-comment">// 允许前端带认证cookie：启用此项后，上面的域名不能为'*'，必须指定具体的域名，否则浏览器会提示</span>
response.setHeader(<span class="hljs-string">"Access-Control-Allow-Credentials"</span>, <span class="hljs-string">"true"</span>); 

<span class="hljs-comment">// 提示OPTIONS预检时，后端需要设置的两个常用自定义头</span>
response.setHeader(<span class="hljs-string">"Access-Control-Allow-Headers"</span>, <span class="hljs-string">"Content-Type,X-Requested-With"</span>);</code></pre>
<p>2.）Nodejs后台示例：</p>
<pre class="javascript hljs"><code class="js"><span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);
<span class="hljs-keyword">var</span> server = http.createServer();
<span class="hljs-keyword">var</span> qs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'querystring'</span>);

server.on(<span class="hljs-string">'request'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) </span>{
    <span class="hljs-keyword">var</span> postData = <span class="hljs-string">''</span>;

    <span class="hljs-comment">// 数据块接收中</span>
    req.addListener(<span class="hljs-string">'data'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">chunk</span>) </span>{
        postData += chunk;
    });

    <span class="hljs-comment">// 数据接收完毕</span>
    req.addListener(<span class="hljs-string">'end'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        postData = qs.parse(postData);

        <span class="hljs-comment">// 跨域后台设置</span>
        res.writeHead(<span class="hljs-number">200</span>, {
            <span class="hljs-string">'Access-Control-Allow-Credentials'</span>: <span class="hljs-string">'true'</span>,     <span class="hljs-comment">// 后端允许发送Cookie</span>
            <span class="hljs-string">'Access-Control-Allow-Origin'</span>: <span class="hljs-string">'http://www.domain1.com'</span>,    <span class="hljs-comment">// 允许访问的域（协议+域名+端口）</span>
            <span class="hljs-comment">/* 
             * 此处设置的cookie还是domain2的而非domain1，因为后端也不能跨域写cookie(nginx反向代理可以实现)，
             * 但只要domain2中写入一次cookie认证，后面的跨域接口都能从domain2中获取cookie，从而实现所有的接口都能跨域访问
             */</span>
            <span class="hljs-string">'Set-Cookie'</span>: <span class="hljs-string">'l=a123456;Path=/;Domain=www.domain2.com;HttpOnly'</span>  <span class="hljs-comment">// HttpOnly的作用是让js无法读取cookie</span>
        });

        res.write(<span class="hljs-built_in">JSON</span>.stringify(postData));
        res.end();
    });
});

server.listen(<span class="hljs-string">'8080'</span>);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Server is running at port 8080...'</span>);</code></pre>
<h4><strong>七、 nginx代理跨域</strong></h4>
<h5><strong>1、 nginx配置解决iconfont跨域</strong></h5>
<p>浏览器跨域访问js、css、img等常规静态资源被同源策略许可，但iconfont字体文件(eot|otf|ttf|woff|svg)例外，此时可在nginx的静态资源服务器中加入以下配置。</p>
<pre class="hljs crmsh"><code><span class="hljs-keyword">location</span> <span class="hljs-title">/ {
  add_header</span> Access-Control-Allow-Origin *;
}</code></pre>
<h5><strong>2、 nginx反向代理接口跨域</strong></h5>
<p>跨域原理： 同源策略是浏览器的安全策略，不是HTTP协议的一部分。服务器端调用HTTP接口只是使用HTTP协议，不会执行JS脚本，不需要同源策略，也就不存在跨越问题。</p>
<p>实现思路：通过nginx配置一个代理服务器（域名与domain1相同，端口不同）做跳板机，反向代理访问domain2接口，并且可以顺便修改cookie中domain信息，方便当前域cookie写入，实现跨域登录。</p>
<p>nginx具体配置：</p>
<pre class="hljs nginx"><code><span class="hljs-comment">#proxy服务器</span>
<span class="hljs-section">server</span> {
    <span class="hljs-attribute">listen</span>       <span class="hljs-number">81</span>;
    <span class="hljs-attribute">server_name</span>  www.domain1.com;

    <span class="hljs-attribute">location</span> / {
        <span class="hljs-attribute">proxy_pass</span>   http://www.domain2.com:8080;  <span class="hljs-comment">#反向代理</span>
        <span class="hljs-attribute">proxy_cookie_domain</span> www.domain2.com www.domain1.com; <span class="hljs-comment">#修改cookie里域名</span>
        <span class="hljs-attribute">index</span>  index.html index.htm;

        <span class="hljs-comment"># 当用webpack-dev-server等中间件代理接口访问nignx时，此时无浏览器参与，故没有同源限制，下面的跨域配置可不启用</span>
        <span class="hljs-attribute">add_header</span> Access-Control-Allow-Origin http://www.domain1.com;  <span class="hljs-comment">#当前端只跨域不带cookie时，可为*</span>
        <span class="hljs-attribute">add_header</span> Access-Control-Allow-Credentials <span class="hljs-literal">true</span>;
    }
}</code></pre>
<p>1.) 前端代码示例：</p>
<pre class="javascript hljs"><code class="js"><span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();

<span class="hljs-comment">// 前端开关：浏览器是否读写cookie</span>
xhr.withCredentials = <span class="hljs-literal">true</span>;

<span class="hljs-comment">// 访问nginx中的代理服务器</span>
xhr.open(<span class="hljs-string">'get'</span>, <span class="hljs-string">'http://www.domain1.com:81/?user=admin'</span>, <span class="hljs-literal">true</span>);
xhr.send();</code></pre>
<p>2.) Nodejs后台示例：</p>
<pre class="javascript hljs"><code class="js"><span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);
<span class="hljs-keyword">var</span> server = http.createServer();
<span class="hljs-keyword">var</span> qs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'querystring'</span>);

server.on(<span class="hljs-string">'request'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) </span>{
    <span class="hljs-keyword">var</span> params = qs.parse(req.url.substring(<span class="hljs-number">2</span>));

    <span class="hljs-comment">// 向前台写cookie</span>
    res.writeHead(<span class="hljs-number">200</span>, {
        <span class="hljs-string">'Set-Cookie'</span>: <span class="hljs-string">'l=a123456;Path=/;Domain=www.domain2.com;HttpOnly'</span>   <span class="hljs-comment">// HttpOnly:脚本无法读取</span>
    });

    res.write(<span class="hljs-built_in">JSON</span>.stringify(params));
    res.end();
});

server.listen(<span class="hljs-string">'8080'</span>);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Server is running at port 8080...'</span>);</code></pre>
<h4><strong>八、 Nodejs中间件代理跨域</strong></h4>
<p>node中间件实现跨域代理，原理大致与nginx相同，都是通过启一个代理服务器，实现数据的转发，也可以通过设置cookieDomainRewrite参数修改响应头中cookie中域名，实现当前域的cookie写入，方便接口登录认证。</p>
<h5><strong>1、 非vue框架的跨域（2次跨域）</strong></h5>
<p>利用node + express + http-proxy-middleware搭建一个proxy服务器。</p>
<p>1.）前端代码示例：</p>
<pre class="javascript hljs"><code class="js"><span class="hljs-keyword">var</span> xhr = <span class="hljs-keyword">new</span> XMLHttpRequest();

<span class="hljs-comment">// 前端开关：浏览器是否读写cookie</span>
xhr.withCredentials = <span class="hljs-literal">true</span>;

<span class="hljs-comment">// 访问http-proxy-middleware代理服务器</span>
xhr.open(<span class="hljs-string">'get'</span>, <span class="hljs-string">'http://www.domain1.com:3000/login?user=admin'</span>, <span class="hljs-literal">true</span>);
xhr.send();</code></pre>
<p>2.）中间件服务器：</p>
<pre class="javascript hljs"><code class="js"><span class="hljs-keyword">var</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">var</span> proxy = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http-proxy-middleware'</span>);
<span class="hljs-keyword">var</span> app = express();

app.use(<span class="hljs-string">'/'</span>, proxy({
    <span class="hljs-comment">// 代理跨域目标接口</span>
    target: <span class="hljs-string">'http://www.domain2.com:8080'</span>,
    <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,

    <span class="hljs-comment">// 修改响应头信息，实现跨域并允许带cookie</span>
    onProxyRes: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">proxyRes, req, res</span>) </span>{
        res.header(<span class="hljs-string">'Access-Control-Allow-Origin'</span>, <span class="hljs-string">'http://www.domain1.com'</span>);
        res.header(<span class="hljs-string">'Access-Control-Allow-Credentials'</span>, <span class="hljs-string">'true'</span>);
    },

    <span class="hljs-comment">// 修改响应信息中的cookie域名</span>
    cookieDomainRewrite: <span class="hljs-string">'www.domain1.com'</span>  <span class="hljs-comment">// 可以为false，表示不修改</span>
}));

app.listen(<span class="hljs-number">3000</span>);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Proxy server is listen at port 3000...'</span>);</code></pre>
<p>3.）Nodejs后台同（六：nginx）</p>
<h5><strong>2、 vue框架的跨域（1次跨域）</strong></h5>
<p>利用node + webpack + webpack-dev-server代理接口跨域。在开发环境下，由于vue渲染服务和接口代理服务都是webpack-dev-server同一个，所以页面与代理接口之间不再跨域，无须设置headers跨域信息了。</p>
<p>webpack.config.js部分配置：</p>
<pre class="javascript hljs"><code class="js"><span class="hljs-built_in">module</span>.exports = {
    <span class="hljs-attr">entry</span>: {},
    <span class="hljs-attr">module</span>: {},
    ...
    devServer: {
        <span class="hljs-attr">historyApiFallback</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">proxy</span>: [{
            <span class="hljs-attr">context</span>: <span class="hljs-string">'/login'</span>,
            <span class="hljs-attr">target</span>: <span class="hljs-string">'http://www.domain2.com:8080'</span>,  <span class="hljs-comment">// 代理跨域目标接口</span>
            changeOrigin: <span class="hljs-literal">true</span>,
            <span class="hljs-attr">secure</span>: <span class="hljs-literal">false</span>,  <span class="hljs-comment">// 当代理某些https服务报错时用</span>
            cookieDomainRewrite: <span class="hljs-string">'www.domain1.com'</span>  <span class="hljs-comment">// 可以为false，表示不修改</span>
        }],
        <span class="hljs-attr">noInfo</span>: <span class="hljs-literal">true</span>
    }
}</code></pre>
<h4>九、 WebSocket协议跨域</h4>
<p>WebSocket protocol是HTML5一种新的协议。它实现了浏览器与服务器全双工通信，同时允许跨域通讯，是server push技术的一种很好的实现。<br>原生WebSocket API使用起来不太方便，我们使用Socket.io，它很好地封装了webSocket接口，提供了更简单、灵活的接口，也对不支持webSocket的浏览器提供了向下兼容。</p>
<p>1.）前端代码：</p>
<pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>user input：<span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"https://cdn.bootcss.com/socket.io/2.2.0/socket.io.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
<span class="hljs-keyword">var</span> socket = io(<span class="hljs-string">'http://www.domain2.com:8080'</span>);

<span class="hljs-comment">// 连接成功处理</span>
socket.on(<span class="hljs-string">'connect'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// 监听服务端消息</span>
    socket.on(<span class="hljs-string">'message'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'data from server: ---&gt; '</span> + msg); 
    });

    <span class="hljs-comment">// 监听服务端关闭</span>
    socket.on(<span class="hljs-string">'disconnect'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ 
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Server socket has closed.'</span>); 
    });
});

<span class="hljs-built_in">document</span>.getElementsByTagName(<span class="hljs-string">'input'</span>)[<span class="hljs-number">0</span>].onblur = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    socket.send(<span class="hljs-keyword">this</span>.value);
};
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<p>2.）Nodejs socket后台：</p>
<pre class="javascript hljs"><code class="js"><span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>);
<span class="hljs-keyword">var</span> socket = <span class="hljs-built_in">require</span>(<span class="hljs-string">'socket.io'</span>);

<span class="hljs-comment">// 启http服务</span>
<span class="hljs-keyword">var</span> server = http.createServer(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">req, res</span>) </span>{
    res.writeHead(<span class="hljs-number">200</span>, {
        <span class="hljs-string">'Content-type'</span>: <span class="hljs-string">'text/html'</span>
    });
    res.end();
});

server.listen(<span class="hljs-string">'8080'</span>);
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Server is running at port 8080...'</span>);

<span class="hljs-comment">// 监听socket连接</span>
socket.listen(server).on(<span class="hljs-string">'connection'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">client</span>) </span>{
    <span class="hljs-comment">// 接收信息</span>
    client.on(<span class="hljs-string">'message'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">msg</span>) </span>{
        client.send(<span class="hljs-string">'hello：'</span> + msg);
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'data from client: ---&gt; '</span> + msg);
    });

    <span class="hljs-comment">// 断开处理</span>
    client.on(<span class="hljs-string">'disconnect'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Client socket has closed.'</span>); 
    });
});</code></pre>

                            </article>
                            <div class="text-secondary font-size-14 mb-5 d-flex justify-content-between">
                                                            <div>阅读 235.8k<span class="split-dot"></span><span data-toggle="tooltip" data-placement="top" title="" data-original-title="发布于 2017-09-13 ">更新于 4月24日</span></div>
                                                            <div class="operation">
                                                                                                                                                                                                                        
                                                                                                        </div>
                            </div>

                            
                                                                                    
                            <div class="functional-area-bottom"><div class="text-center"><button class="func-btn mainLike btn btn-light 
                            mr-2" data-id="1190000011145364">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class="far fa-thumbs-up"></i> -->
                            <span class="ml-1">赞</span> <span class="mainLikeNum ml-1">929</span>
                        </button><button class="func-btn mainBookmark btn btn-light 
                                mr-2 " data-id="1190000011145364">
                                
                                <span class="ml-1">收藏</span> <span class="bookmarkNum ml-1">2126</span>
                            </button><div class="dropdown dropup d-inline-block">
                        <button class="func-btn btn btn-light
                        " id="func_share" data-toggle="dropdown">
                        <svg class="svg-inline--fa fa-share-alt fa-w-14" aria-hidden="true" focusable="false" data-prefix="far" data-icon="share-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M352 320c-25.6 0-48.9 10-66.1 26.4l-98.3-61.5c5.9-18.8 5.9-39.1 0-57.8l98.3-61.5C303.1 182 326.4 192 352 192c53 0 96-43 96-96S405 0 352 0s-96 43-96 96c0 9.8 1.5 19.6 4.4 28.9l-98.3 61.5C144.9 170 121.6 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.6 0 48.9-10 66.1-26.4l98.3 61.5c-2.9 9.4-4.4 19.1-4.4 28.9 0 53 43 96 96 96s96-43 96-96-43-96-96-96zm0-272c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM96 304c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm256 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"></path></svg><!-- <i class="far fa-share-alt"></i> -->
                        <span class="ml-1 show-row">分享</span>
                        </button>
                        <div class="dropdown-menu shareContent" aria-labelledby="func_share">
                            <div class="text-center mt-2" style="cursor: auto">
                                <div class="qr"><img crossorigin="anonymous" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJMAAACTCAYAAACK5SsVAAALvUlEQVR4Xu2d0VH0MAyEQwE0QAFQAG1QBwVAHRRAHfTBOzRAAfDOP4Gbm9yNknzKKg733/LIKJa8Wsuyovguvr+/vzv/GYECBC56Mj09PXXv7+8Hw/Ucu7i4aP6/x8fH7vr6+kAvtS96VsEo0kt1RM9GtlCcFVyoDkWut++HTPf3993r66uCe9mzz8/P3e3t7cF41L7oWcWwSC/VQW2m9im4UB2KXG+fyTSBoMnE6WUyzWBlMplMHAGTqQyrycj08PDQ3dzclCmLBoqS1Cg36A8Hn5+fs7b0ifvl5eWsHBWgkSmax93dXXd1dTV7kKA4R3OL7KPjUQwyfhvNmWiiqRhFnaXoUJ6l9lXLUZupXjoelRvTazIVJODUqVROderxaZiOR+VMJorUQI46v1qOmkr10vGonMlEkTKZZpEqIROtREeV1KiCS1dWdSWaVnrf3t66r6+vA3Bp8VCRm/XmTkDBj2KQ8VsqZ1Kqugq4FLTICYrN0XhbzYPOjdpHCUvHmywN0EHWMIq8TqGnTZOp6xQMKA9MJroSBnIZcCsXhSPTH3CCsiq9zXVdZvGcbM4UVYRpshhViaMkP5J7eXnpPj4+DngWJeqRfVFVXKna01xSWVBnQaatoka1YxbstPtHTKaiOo7JFCfWNJJQEtPxTjoBN5lMpgMOVIfpzCpaetLyNjdO4pNNwKPIFCWztIodtblUt31E4ynV/erFqEb7/4pMSh5An6UObDEetaU6mpa8m2tlFNmCqLPoaqPjUQe2GI/a0spvjkzU68mXq3RYSghXwFesgFNnOTL90XdztBebJsd0VUZ6acU6siWqYtO2mciWaDz60SQ9ICiRqZXfUtucEg0UMFo8q0Qwuiho7qJ0RNBnFV+WJOCKAS0IQYHcyqlb6W3lN0emCaQVctICaouIaDLNIEC3FhoRWzj1bCNTVK2lfcNUjiaf9CNHmghHTqXtJrTNhUamar1b+u1kL66gzjo3ueotjY530hdXnBtJ6Hyp86vlTKYVi6rU+dVy1SSh45lMJhPlyqzcnkxKhXRWS1IgSiBp1TnqsY6SctqLTdtSqH3VveJ/zW8/CXjS339CnJYGqFz1pGgZQClJVNusjmcyqQiOPG8yrQTsGsPSiEPlqm00maoRXXE8ShIqV23q2ZKpxZ3VkbNo/zOtgNPkXfnwkZKOVtmj8ap7xatvrxnz2yoV8BYvSKkO6vxqueqIqIxXHSXTLSgKuNTRFCAqp9hc/Wy1zcp4JtPAuwqQ1SSh41XbrIxnMplMB7w9CzIpLRS0whwBSW9BoZFEOSBEz1Kbae+5Ml5Ueaf3hdMPUUvezSkvKqmjaZimuZqil+qgNtMKuDIe1aHiIp/mTKbYBYrzKabU+SbTTM5UDRDdqhyZFlxcQVlPVxF1AnWqyUQ9FMtV+2OyBYVWxRUy0cosTSCrK9v0gBC5S/lwlF51SJNopcoeHRDGWnhGuwbonq+QiepoEYW0dc6epsd7iosSXdbYAUwmxoMSKZNpBkZHJs4zk8lk4myZkTwLMtEWD/rLlRQ0pYeZJts0yaeVaKVSTqvY0YGDJtGRHJ0b9cfYx66puwYoSahc2ZKfGIgms0qST+er2FKNlZK8p1tQqnMhxXgFSMWB1GaT6fdnMRyZJphqMsXgODItCG8m0wIyKR8RRoDT8ehtKfRKP3pDCf0hnmhuUUJPK+VR5Zgm9Eq1O9JRfRVjfyBapWipVFdpIqzkKdX5IA161ZGO6lX8QW3udZhMO6QVclKnUsdQW6hek2mAQHUkqR6POtVkWlABV1aCtzn+a02UxIo/6ALYb3PVFXA6Hk0+6Q/sUDl6aKD9z9UJPb2lhX7EGuFMW2TotYb94efP1ZmUIiNdqZnVdjwmzWeq5Wh0qZ5bBlOTiaJVkKgruZrJNJNEU4CS/p4Vr169CkloBKNYVc9tFsydwJ98neJtLv7595MhE61Y08SQVoRpok5/dIfK0epv5MDqqw5pZKJY0bnRtwXpyNSC9YoOCrgilwGN/Lgi3W4Um+n2qpRbMrikKuAUIGpACyAVwBUnUKxaYKDMg/pynzMpUYMqU3RsBbjiBJNpgB51oMmkVawpzoqcsiiof9ORqfrmEZqoVx8QIsfQKnaEAT2YRI6hc6N3iNP+cfoWgB5qmragUIZTObpSq7dXusrpPKh9yniKzRmcUwm4YlQ1GJlJHuumz9KaF82PKAZULx1P8RvFqtdhMu2QVk59JtMviCaTyTQZ4NKRKUqylJtHaGsElaN5Be3ZplVsigH9Bc5oHhT76Fl6aIiepYepNJnoHk3DOTWAyilkojoUDKgOOg+aCylbM82jMnNLXUNoMsUvYTOAk8OAyTRAgIJL5eiKpiuVyq2xek2miSS1haNb6PA2p0fdn21Ouf0ic03d5eXlAS9o9Tdql6DPKsk2TVxpdZrOo/oKSJqoKz30k6UBGg3oVkDzgK22PmqfIqfknBRnih+NxFSvyaQwY8GzJtNMYp1hLsGfriwaOZVkm9ibkTGZTKYMXyZlz4JMtBJNWzdoRZhWfxUn0KQyYgFNXKmcMo9IB/1IlLbNZNpNjg9T+5yJbi0t5JRtU0kqqd5qDJTtmj5bPbex8LvpR5jU+cqKVvYomm8pcpQQ1RhU2+zINMM0BXAawUymAQLVgNOQTJ3gyBQjoPhtcpujvdh0tSnV6chQmtDTSr6SaCpY0bYPqiPCimJAk3e6ve63Obp6KZlo1KCGKnqrbVGwUqIu1avIqTiPdlpWO0ExVHm2eh7UWdWHC6pXkVNxNpl26NMoSZ1lMs0gpTB3q2cdmSj9tY9JJ3Om6uo0Tcrp7Rw0ktB7u+l41DXK2wJ6P3q1XNRKk8Fl069TaLSicjQKtUiEqc10O6QkrpYzmQaIUmdlQCMOM5kaO0EBnDrfZCLUH5ehOE/mTC2cYDLFSa/m/tqnS8ikVFLpdGill5Iu0kvvu6YfcEYHBKqXVp2j8ZQf4qE95ZHe9D3g1PlbySlkokn5Gu+qCF5b7QDEtoxMj1+qaJkZvFLWZOI38NLFU+mffiyTaYCoI5NGL5PJZNIYdITfzzan/Fx7ZI1SmaUfKio/RU8/mlSuF1T66iNMlQMCzctoL/tYP3rq4ooyGk8MlDmKEnsokNSBRGcvQ/M8ap+yDbfQsa8zUWUUSEXOZIrRM5kWsMpkMpkW0IaDpgyuRF2F2N7mBl5TKq7U+VGSqjgw0ksr+Yotyo/kREk+tUV5g0BzRLooJnOmaqfSYloLvdW2UMCr5eiipdFZyctMpoE3qKMVIlIdVM5kKnIgBZLKKQ6kz1bLKXPzNkfRWyBHHe3INP6eMHXXAG1liCrgLXq7qV6lv50+S29foXkKbQWJMFDuM6dvC0p+ip4GAQoaTcCrk0ol7FMMttLRQu/+RS8N8dSBivEmU5vuS7q46UIxmWaQqgZcWWTUqVSuem4mk8l0gIC686QScFXZ0l/dphXmiBvRDSo0IaU927R1I7KPJurRs9V6o2p8pHesQn8SZKI5HT220+2Gjle9ZWy5VR0v+AwGJtMOLSXxN5kGPeB05W+1zVH76CpyZIpjn7qgHJkcmfbMMplmEowoqkWJa5SoV//IEE1mafuPckCgh5XMm4uzjExKjkNXL02ilS2cbuvUZmrLmJzJtPMIzQepY0ymAQLK6qUJrroSlGMsqXnReVDiVEeS6vFUfzgyOTLtOdmUTLSfmlZ6VeOPowttD4miLp0bvZOcRivlekYlMtG3CtF8xz5OTUUmChCVqyZTi7yH2kwxUAihPEvnQeV6W0ympNcz4CaHTm83JtMAAeoYRa46iaa2LCVS/5yigz5bLefItMDj1AkLhv5/I5PSc0xvQaH3TlMH0mp3ixtU6HWFyqFBeVbBdKzWdhK3oKwxcRI5aEKvbKVUh1L3o88qcpPbHAF7DRllQpR01G7qaJPpFwFHpglmmUy5w4DJZDLtEVB2hX1kotVfuj0oclFyTG/7oHLUPgUXmuRTHRSXaG70WUWu1/sP/OuDSZdk3Y8AAAAASUVORK5CYII=" width="147.5" height="147.5" style="width: 118px; height: 118px;"></div>
                                微信扫一扫
                            </div>
                            <div class="dropdown-divider"></div>
                        <a class="dropdown-item share_weibo" data-share="weibo" href="http://weibo.com/segmentfault" target="_blank"><svg class="svg-inline--fa fa-weibo fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="weibo" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"></path></svg><!-- <i class="fab fa-weibo fa-fw"></i> --> 新浪微博</a><a class="dropdown-item share_twitter" data-share="twitter" href="https://twitter.com/segment_fault" target="_blank"><svg class="svg-inline--fa fa-twitter fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg><!-- <i class="fab fa-twitter fa-fw"></i> --> Twitter</a><a class="dropdown-item share_facebook" data-share="facebook" href="javascript:;" target="_blank"><svg class="svg-inline--fa fa-facebook-square fa-w-14 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-square" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.27c-30.81 0-40.42 19.12-40.42 38.73V256h68.78l-11 71.69h-57.78V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"></path></svg><!-- <i class="fab fa-facebook-square fa-fw"></i> --> Facebook</a></div>
                    </div></div></div>

                            <div class="text-center mb-5 mt-3 text-secondary font-size-14">
                                本作品系
                                原创
                                 ，
                                                                    <a target="_blank" class="text-secondary" href="https://creativecommons.org/licenses/by-nc-nd/4.0/">采用《署名-非商业性使用-禁止演绎 4.0 国际》许可协议</a>
                                                            </div>
                            <div class="article-author d-flex flex-column flex-sm-row align-items-center pt-4 border-top">
                                <div class="d-flex align-items-center flex-grow-1 author-left">
                                    <a href="https://segmentfault.com/u/hoby">
                                        <img class="rounded-circle mr-3" width="64" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/1167185833-59acbf916cae2_big64" aria-hidden="true">
                                    </a>
                                    <div>
                                        <h5><a href="https://segmentfault.com/u/hoby" class="text-body">安静de沉淀</a></h5>
                                        <ul class="list-inline mb-0 authentication-info">
                                                                                        <li class="list-inline-item">
                                                <svg class="svg-inline--fa fa-dice-d8 fa-w-16" style="color: #BF7158;" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="dice-d8" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M225.53 2.52L2.36 233.83c-4.21 4.37-2.56 11.71 3.1 13.77l234.13 85.06V8.39c-.01-7.49-8.91-11.21-14.06-5.87zm284.11 231.31L286.47 2.52C281.32-2.82 272.41.9 272.41 8.4v324.27l234.13-85.06c5.66-2.07 7.31-9.42 3.1-13.78zM33.53 310.38l192 199.1c5.15 5.34 14.06 1.62 14.06-5.88V368.29L42.13 296.61c-8.21-2.98-14.72 7.43-8.6 13.77zm436.34-13.77l-197.46 71.68V503.6c0 7.5 8.91 11.22 14.06 5.88l192-199.1c6.12-6.34-.39-16.75-8.6-13.77z"></path></svg><!-- <i class="fas fa-dice-d8" style="color:#BF7158"></i> -->
                                                <span style="color: #BF7158; font-size:16px; font-weight:bold">4.6k</span>
                                            </li>
                                                                                    </ul>
                                    </div>
                                </div>
                                <div class="author-right flex-shrink-0">
                                                                                                                <button type="button" class="btn btn-primary follow-user sf_do" data-dotype="post" data-content="{&quot;type&quot;:&quot;state&quot;,&quot;state&quot;:false,&quot;true&quot;:&quot;\u5173\u6ce8\u4f5c\u8005&quot;,&quot;false&quot;:&quot;\u6b63\u5728\u5173\u6ce8&quot;}" data-api="/iteration/api/user/1030000010971360/follow">关注作者
                                        </button>
                                                                    </div>
                            </div>
                        </div>
                    </div>
                    <div class="d-none d-lg-block">
                    <script type="text/javascript">
                      OA_show(3);
                    </script><div id="OA_holder_3"><div style="text-align: center; line-height: 0"><script async="" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/f.txt"></script>
<!-- 中部横幅广告位 -->
<ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-6330872677300335" data-ad-slot="5598290435"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><div id="beacon_ba41db7cef" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/lg(1).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div></div>
</div>
                    </div>
                                                            <div id="comment-area" class="my-4" data-type="article" data-id="1190000011145364" data-page="1" data-user="null"><div class="d-flex justify-content-between mb-2">
                <div id="comment-total" class="h5 mb-0">45 条评论</div>
                <div>
                    <a href="javascript:;" class="sort text-dark" data-sort="default">得票</a><span class="split-dot"></span><a href="javascript:;" class="sort text-secondary" data-sort="desc">时间</a>
                </div>
            </div><div class="card border-0">
                <div class="card-body">
                    <div class="media">
                        <img src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/user-128.png" class="rounded-circle mr-3" width="38" aria-hidden="true">          
                        <form class="media-body" action="https://segmentfault.com/api/article/1190000011145364/comments/add">
                            <div class="form-group">
                                <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none; height: 38px;" name="text"></textarea>
                            </div>
                            <div class="d-flex justify-content-end">
                                <button data-js-replay-submit-btn="" type="button" submit-type="comment" class="btn btn-primary float-right" disabled="">提交评论</button>
                                <input type="hidden" name="objectId" value="1190000011145364" autocomplete="off">
                            </div>
                        </form>
                    </div>
                    <div id="comment-body"><div class="media mb-4" id="comment-1050000011192284">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/3815416685-5d02dc46a8727_big64" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/zq741235" target="_blank"><strong>小青虫</strong></a>
                     ：
                    <div class="parsedText fmt"><p>文章写的这么好，一定很帅咯 ?</p></div>
                </div>
            
                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000011192284/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="文章写的这么好，一定很帅咯 ?"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000011145364" autocomplete="off">
                        <input type="hidden" name="id" value="1050000011192284" autocomplete="off">
                    </div>
                </form>
            
                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment" data-id="1050000011192284">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                7</span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000011192284">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2017-09-15 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        
                        <a class="text-secondary comment-report" href="javascript:;" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011192284&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011192284/report">举报</a>
                    </div>
                </div>
                
                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000011192284-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000011192284/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011192284">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000011192284" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000006142208" autocomplete="off">
                        </div>
                    </form>                            
                </div>
            </div>
            <div class="replies">
                    
            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">
                        
                    </ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000011163420">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/2652692460-572af7e8703a3_big64" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/xiaobinwu" target="_blank"><strong>xiaobinwu</strong></a>
                     ：
                    <div class="parsedText fmt"><p>mark</p></div>
                </div>
            
                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000011163420/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="mark"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000011145364" autocomplete="off">
                        <input type="hidden" name="id" value="1050000011163420" autocomplete="off">
                    </div>
                </form>
            
                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment" data-id="1050000011163420">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                6</span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000011163420">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2017-09-14 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        
                        <a class="text-secondary comment-report" href="javascript:;" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011163420&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011163420/report">举报</a>
                    </div>
                </div>
                
                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000011163420-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000011163420/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011163420">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000011163420" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000004239186" autocomplete="off">
                        </div>
                    </form>                            
                </div>
            </div>
            <div class="replies">
                    
            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">
                        
                    </ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000011191862">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/user-64.png" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/lanxiaoshou" target="_blank"><strong>蓝小瘦</strong></a>
                     ：
                    <div class="parsedText fmt"><p>欢迎关注“爱又米前端”获取最新文章。</p></div>
                </div>
            
                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000011191862/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="欢迎关注“爱又米前端”获取最新文章。"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000011145364" autocomplete="off">
                        <input type="hidden" name="id" value="1050000011191862" autocomplete="off">
                    </div>
                </form>
            
                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment" data-id="1050000011191862">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                4</span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000011191862">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2017-09-15 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        
                        <a class="text-secondary comment-report" href="javascript:;" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011191862&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011191862/report">举报</a>
                    </div>
                </div>
                
                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000011191862-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000011191862/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011191862">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000011191862" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000011191858" autocomplete="off">
                        </div>
                    </form>                            
                </div>
            </div>
            <div class="replies">
                    
            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">
                        
                    </ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000011221665">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/user-64.png" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/mefelixwang" target="_blank"><strong>MeFelixWang</strong></a>
                     ：
                    <div class="parsedText fmt"><p>大赞，写得非常好，先点赞，再收藏</p></div>
                </div>
            
                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000011221665/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="大赞，写得非常好，先点赞，再收藏"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000011145364" autocomplete="off">
                        <input type="hidden" name="id" value="1050000011221665" autocomplete="off">
                    </div>
                </form>
            
                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment" data-id="1050000011221665">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                4</span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000011221665">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2017-09-18 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        
                        <a class="text-secondary comment-report" href="javascript:;" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011221665&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011221665/report">举报</a>
                    </div>
                </div>
                
                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000011221665-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000011221665/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011221665">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000011221665" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000009938666" autocomplete="off">
                        </div>
                    </form>                            
                </div>
            </div>
            <div class="replies">
                    
            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">
                        
                    </ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000011155133">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/895756399-5a4afe8ed89ed_big64" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/zwwill" target="_blank"><strong>zwwill_木羽</strong></a>
                     ：
                    <div class="parsedText fmt"><p>整理的还是比较全的，赞一个！上周我还准备整理一份的，看来不用整理了。<br>补充下，还有很古老的Flash代理跨域，现在已经鲜为人用了。<br>另外我们通常用window.name做postMessage的兼容方案。</p></div>
                </div>
            
                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000011155133/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="整理的还是比较全的，赞一个！上周我还准备整理一份的，看来不用整理了。
补充下，还有很古老的Flash代理跨域，现在已经鲜为人用了。
另外我们通常用window.name做postMessage的兼容方案。"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000011145364" autocomplete="off">
                        <input type="hidden" name="id" value="1050000011155133" autocomplete="off">
                    </div>
                </form>
            
                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment" data-id="1050000011155133">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                3</span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000011155133">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2017-09-13 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        
                        <a class="text-secondary comment-report" href="javascript:;" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011155133&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011155133/report">举报</a>
                    </div>
                </div>
                
                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000011155133-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000011155133/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011155133">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000011155133" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000010878662" autocomplete="off">
                        </div>
                    </form>                            
                </div>
            </div>
            <div class="replies">
                    
            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">
                        
                    <li class="list-group-item px-0 bg-light border-0 commentUnit">
    <div class="font-size-14 mb-2">
        <a class="d-uname" href="https://segmentfault.com/u/hoby" target="_blank"><strong>安静de沉淀</strong></a>：
        <div class="parsedText fmt"><p>嗯，flash末落了，有点可惜，所以也没提了。</p></div>
    </div>
    <form class="d-none edit-form edit-reply-form" action="https://segmentfault.com/api/comment/1050000011166516/edit" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="嗯，flash末落了，有点可惜，所以也没提了。"></textarea>
        </div>
        <div class="my-3 d-flex align-content-center justify-content-end">
            <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                取消
            </button>
            <button type="button" submit-type="reply-edit" class="btn btn-primary btn-sm">
                提交
            </button>
            <input type="hidden" name="id" value="1050000011166516" autocomplete="off">
        </div>
    </form>
    <div class="handle-bar font-size-14 d-flex justify-content-between">
        <div>
            <a class="text-secondary" href="Javascript:;">
            <span class="mainLike-comment" data-id="1050000011166516">
                <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
            </span>
            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                </span> </a>
            <span class="split-dot"></span>
            <a class="text-secondary btn-reply" href="Javascript:;" data-id="1050000011166516">回复</a>
            <span class="split-dot"></span>
            <span class="ml-1 text-secondary">2017-09-14 </span>
        </div>
        <div class="comment-control-area d-none">
            
            
            <a class="text-secondary reply-report" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011166516&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011166516/report" href="Javascript:;">举报</a>
        </div>
    </div>
    <form id="reply-1050000011166516-form" class="d-none my-2 add-comment-form" action="https://segmentfault.com/api/comment/1050000011155133/reply" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm reply-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text"></textarea>
        </div>
        <div class="mt-y d-flex align-content-center justify-content-end">
            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011155133">
                提交评论
            </button>
            <input type="hidden" name="replyUserId" value="1030000010971360" autocomplete="off">
        </div>
    </form> 
</li><li class="list-group-item px-0 bg-light border-0 commentUnit">
    <div class="font-size-14 mb-2">
        <a class="d-uname" href="https://segmentfault.com/u/hoby" target="_blank"><strong>安静de沉淀</strong></a>：
        <div class="parsedText fmt"><p>嗯，flash末落了，有点可惜，所以也没提了。</p></div>
    </div>
    <form class="d-none edit-form edit-reply-form" action="https://segmentfault.com/api/comment/1050000011166536/edit" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="嗯，flash末落了，有点可惜，所以也没提了。"></textarea>
        </div>
        <div class="my-3 d-flex align-content-center justify-content-end">
            <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                取消
            </button>
            <button type="button" submit-type="reply-edit" class="btn btn-primary btn-sm">
                提交
            </button>
            <input type="hidden" name="id" value="1050000011166536" autocomplete="off">
        </div>
    </form>
    <div class="handle-bar font-size-14 d-flex justify-content-between">
        <div>
            <a class="text-secondary" href="Javascript:;">
            <span class="mainLike-comment" data-id="1050000011166536">
                <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
            </span>
            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                </span> </a>
            <span class="split-dot"></span>
            <a class="text-secondary btn-reply" href="Javascript:;" data-id="1050000011166536">回复</a>
            <span class="split-dot"></span>
            <span class="ml-1 text-secondary">2017-09-14 </span>
        </div>
        <div class="comment-control-area d-none">
            
            
            <a class="text-secondary reply-report" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011166536&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011166536/report" href="Javascript:;">举报</a>
        </div>
    </div>
    <form id="reply-1050000011166536-form" class="d-none my-2 add-comment-form" action="https://segmentfault.com/api/comment/1050000011155133/reply" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm reply-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text"></textarea>
        </div>
        <div class="mt-y d-flex align-content-center justify-content-end">
            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011155133">
                提交评论
            </button>
            <input type="hidden" name="replyUserId" value="1030000010971360" autocomplete="off">
        </div>
    </form> 
</li><li class="list-group-item px-0 bg-light border-0 commentUnit">
    <div class="font-size-14 mb-2">
        <a class="d-uname" href="https://segmentfault.com/u/zwwill" target="_blank"><strong>zwwill_木羽</strong></a>：
        <div class="parsedText fmt"><p><a href="https://segmentfault.com/u/hoby">@安静de沉淀</a> 不知笔者觉cors的研究有多深，能否回答此问题<a href="https://segmentfault.com/q/1010000011165416">https://segmentfault.com/q/10...</a>，一个关于cors写入三方cookie的问题。</p></div>
    </div>
    <form class="d-none edit-form edit-reply-form" action="https://segmentfault.com/api/comment/1050000011166760/edit" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="@安静de沉淀[hoby] 不知笔者觉cors的研究有多深，能否回答此问题https://segmentfault.com/q/1010000011165416，一个关于cors写入三方cookie的问题。"></textarea>
        </div>
        <div class="my-3 d-flex align-content-center justify-content-end">
            <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                取消
            </button>
            <button type="button" submit-type="reply-edit" class="btn btn-primary btn-sm">
                提交
            </button>
            <input type="hidden" name="id" value="1050000011166760" autocomplete="off">
        </div>
    </form>
    <div class="handle-bar font-size-14 d-flex justify-content-between">
        <div>
            <a class="text-secondary" href="Javascript:;">
            <span class="mainLike-comment" data-id="1050000011166760">
                <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
            </span>
            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                </span> </a>
            <span class="split-dot"></span>
            <a class="text-secondary btn-reply" href="Javascript:;" data-id="1050000011166760">回复</a>
            <span class="split-dot"></span>
            <span class="ml-1 text-secondary">2017-09-14 </span>
        </div>
        <div class="comment-control-area d-none">
            
            
            <a class="text-secondary reply-report" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011166760&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011166760/report" href="Javascript:;">举报</a>
        </div>
    </div>
    <form id="reply-1050000011166760-form" class="d-none my-2 add-comment-form" action="https://segmentfault.com/api/comment/1050000011155133/reply" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm reply-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text"></textarea>
        </div>
        <div class="mt-y d-flex align-content-center justify-content-end">
            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011155133">
                提交评论
            </button>
            <input type="hidden" name="replyUserId" value="1030000010878662" autocomplete="off">
        </div>
    </form> 
</li></ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000011153975">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/4098103713-56c6d262b6a53_big64" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/rwing" target="_blank"><strong>Rwing</strong></a>
                     ：
                    <div class="parsedText fmt"><p>CORS 应该是最佳解决方案吧</p></div>
                </div>
            
                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000011153975/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="CORS 应该是最佳解决方案吧"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000011145364" autocomplete="off">
                        <input type="hidden" name="id" value="1050000011153975" autocomplete="off">
                    </div>
                </form>
            
                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment" data-id="1050000011153975">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                2</span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000011153975">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2017-09-13 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        
                        <a class="text-secondary comment-report" href="javascript:;" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011153975&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011153975/report">举报</a>
                    </div>
                </div>
                
                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000011153975-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000011153975/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011153975">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000011153975" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000000173736" autocomplete="off">
                        </div>
                    </form>                            
                </div>
            </div>
            <div class="replies">
                    
            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">
                        
                    <li class="list-group-item px-0 bg-light border-0 commentUnit">
    <div class="font-size-14 mb-2">
        <a class="d-uname" href="https://segmentfault.com/u/linlin_5cd6ecc807a13" target="_blank"><strong>琳琳</strong></a>：
        <div class="parsedText fmt"><p>CORS不安全</p></div>
    </div>
    <form class="d-none edit-form edit-reply-form" action="https://segmentfault.com/api/comment/1050000019167870/edit" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="CORS不安全"></textarea>
        </div>
        <div class="my-3 d-flex align-content-center justify-content-end">
            <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                取消
            </button>
            <button type="button" submit-type="reply-edit" class="btn btn-primary btn-sm">
                提交
            </button>
            <input type="hidden" name="id" value="1050000019167870" autocomplete="off">
        </div>
    </form>
    <div class="handle-bar font-size-14 d-flex justify-content-between">
        <div>
            <a class="text-secondary" href="Javascript:;">
            <span class="mainLike-comment" data-id="1050000019167870">
                <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
            </span>
            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                </span> </a>
            <span class="split-dot"></span>
            <a class="text-secondary btn-reply" href="Javascript:;" data-id="1050000019167870">回复</a>
            <span class="split-dot"></span>
            <span class="ml-1 text-secondary">5月13日</span>
        </div>
        <div class="comment-control-area d-none">
            
            
            <a class="text-secondary reply-report" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000019167870&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000019167870/report" href="Javascript:;">举报</a>
        </div>
    </div>
    <form id="reply-1050000019167870-form" class="d-none my-2 add-comment-form" action="https://segmentfault.com/api/comment/1050000011153975/reply" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm reply-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text"></textarea>
        </div>
        <div class="mt-y d-flex align-content-center justify-content-end">
            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011153975">
                提交评论
            </button>
            <input type="hidden" name="replyUserId" value="1030000019150009" autocomplete="off">
        </div>
    </form> 
</li></ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000011179974">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/830914204-59841adc22304_big64" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/sailing_5978b26702f9a" target="_blank"><strong>Sailing</strong></a>
                     ：
                    <div class="parsedText fmt"><p>哪几种最常用？很多都是听说过，项目里都没用过...</p></div>
                </div>
            
                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000011179974/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="哪几种最常用？很多都是听说过，项目里都没用过..."></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000011145364" autocomplete="off">
                        <input type="hidden" name="id" value="1050000011179974" autocomplete="off">
                    </div>
                </form>
            
                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment" data-id="1050000011179974">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                2</span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000011179974">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2017-09-15 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        
                        <a class="text-secondary comment-report" href="javascript:;" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011179974&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011179974/report">举报</a>
                    </div>
                </div>
                
                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000011179974-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000011179974/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011179974">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000011179974" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000010366932" autocomplete="off">
                        </div>
                    </form>                            
                </div>
            </div>
            <div class="replies">
                    
            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">
                        
                    <li class="list-group-item px-0 bg-light border-0 commentUnit">
    <div class="font-size-14 mb-2">
        <a class="d-uname" href="https://segmentfault.com/u/hoby" target="_blank"><strong>安静de沉淀</strong></a>：
        <div class="parsedText fmt"><p>看你的应用场景了：简单的跨域请求jsonp即可，复杂的cors，窗口之间JS跨域postMessage，开发环境下接口跨域用nginx反向代理或node中间件比较方便。</p></div>
    </div>
    <form class="d-none edit-form edit-reply-form" action="https://segmentfault.com/api/comment/1050000011180680/edit" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="看你的应用场景了：简单的跨域请求jsonp即可，复杂的cors，窗口之间JS跨域postMessage，开发环境下接口跨域用nginx反向代理或node中间件比较方便。"></textarea>
        </div>
        <div class="my-3 d-flex align-content-center justify-content-end">
            <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                取消
            </button>
            <button type="button" submit-type="reply-edit" class="btn btn-primary btn-sm">
                提交
            </button>
            <input type="hidden" name="id" value="1050000011180680" autocomplete="off">
        </div>
    </form>
    <div class="handle-bar font-size-14 d-flex justify-content-between">
        <div>
            <a class="text-secondary" href="Javascript:;">
            <span class="mainLike-comment" data-id="1050000011180680">
                <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
            </span>
            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                2</span> </a>
            <span class="split-dot"></span>
            <a class="text-secondary btn-reply" href="Javascript:;" data-id="1050000011180680">回复</a>
            <span class="split-dot"></span>
            <span class="ml-1 text-secondary">2017-09-15 </span>
        </div>
        <div class="comment-control-area d-none">
            
            
            <a class="text-secondary reply-report" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011180680&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011180680/report" href="Javascript:;">举报</a>
        </div>
    </div>
    <form id="reply-1050000011180680-form" class="d-none my-2 add-comment-form" action="https://segmentfault.com/api/comment/1050000011179974/reply" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm reply-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text"></textarea>
        </div>
        <div class="mt-y d-flex align-content-center justify-content-end">
            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011179974">
                提交评论
            </button>
            <input type="hidden" name="replyUserId" value="1030000010971360" autocomplete="off">
        </div>
    </form> 
</li><li class="list-group-item px-0 bg-light border-0 commentUnit">
    <div class="font-size-14 mb-2">
        <a class="d-uname" href="https://segmentfault.com/u/sailing_5978b26702f9a" target="_blank"><strong>Sailing</strong></a>：
        <div class="parsedText fmt"><p>三克油~</p></div>
    </div>
    <form class="d-none edit-form edit-reply-form" action="https://segmentfault.com/api/comment/1050000011181209/edit" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="三克油~"></textarea>
        </div>
        <div class="my-3 d-flex align-content-center justify-content-end">
            <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                取消
            </button>
            <button type="button" submit-type="reply-edit" class="btn btn-primary btn-sm">
                提交
            </button>
            <input type="hidden" name="id" value="1050000011181209" autocomplete="off">
        </div>
    </form>
    <div class="handle-bar font-size-14 d-flex justify-content-between">
        <div>
            <a class="text-secondary" href="Javascript:;">
            <span class="mainLike-comment" data-id="1050000011181209">
                <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
            </span>
            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                </span> </a>
            <span class="split-dot"></span>
            <a class="text-secondary btn-reply" href="Javascript:;" data-id="1050000011181209">回复</a>
            <span class="split-dot"></span>
            <span class="ml-1 text-secondary">2017-09-15 </span>
        </div>
        <div class="comment-control-area d-none">
            
            
            <a class="text-secondary reply-report" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011181209&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011181209/report" href="Javascript:;">举报</a>
        </div>
    </div>
    <form id="reply-1050000011181209-form" class="d-none my-2 add-comment-form" action="https://segmentfault.com/api/comment/1050000011179974/reply" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm reply-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text"></textarea>
        </div>
        <div class="mt-y d-flex align-content-center justify-content-end">
            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011179974">
                提交评论
            </button>
            <input type="hidden" name="replyUserId" value="1030000010366932" autocomplete="off">
        </div>
    </form> 
</li><li class="list-group-item px-0 bg-light border-0 commentUnit">
    <div class="font-size-14 mb-2">
        <a class="d-uname" href="https://segmentfault.com/u/shiyiyuedexiaozhang" target="_blank"><strong>十一月的嚣张</strong></a>：
        <div class="parsedText fmt"><p>楼主，我的react项目开发环境下接口跨域用nginx反向代理没问题，但是上生产了接口还是有跨域问题。。。请问怎么解决？？？</p></div>
    </div>
    <form class="d-none edit-form edit-reply-form" action="https://segmentfault.com/api/comment/1050000019118960/edit" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="楼主，我的react项目开发环境下接口跨域用nginx反向代理没问题，但是上生产了接口还是有跨域问题。。。请问怎么解决？？？"></textarea>
        </div>
        <div class="my-3 d-flex align-content-center justify-content-end">
            <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                取消
            </button>
            <button type="button" submit-type="reply-edit" class="btn btn-primary btn-sm">
                提交
            </button>
            <input type="hidden" name="id" value="1050000019118960" autocomplete="off">
        </div>
    </form>
    <div class="handle-bar font-size-14 d-flex justify-content-between">
        <div>
            <a class="text-secondary" href="Javascript:;">
            <span class="mainLike-comment" data-id="1050000019118960">
                <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
            </span>
            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                </span> </a>
            <span class="split-dot"></span>
            <a class="text-secondary btn-reply" href="Javascript:;" data-id="1050000019118960">回复</a>
            <span class="split-dot"></span>
            <span class="ml-1 text-secondary">5月9日</span>
        </div>
        <div class="comment-control-area d-none">
            
            
            <a class="text-secondary reply-report" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000019118960&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000019118960/report" href="Javascript:;">举报</a>
        </div>
    </div>
    <form id="reply-1050000019118960-form" class="d-none my-2 add-comment-form" action="https://segmentfault.com/api/comment/1050000011179974/reply" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm reply-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text"></textarea>
        </div>
        <div class="mt-y d-flex align-content-center justify-content-end">
            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011179974">
                提交评论
            </button>
            <input type="hidden" name="replyUserId" value="1030000019118906" autocomplete="off">
        </div>
    </form> 
</li></ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000011180798">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/583629499-59bb3cff09cb9_big64" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/sunny_58b3c61d26599" target="_blank"><strong>Sunny</strong></a>
                     ：
                    <div class="parsedText fmt"><p>物里宝叔，厉害了?</p></div>
                </div>
            
                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000011180798/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="物里宝叔，厉害了?"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000011145364" autocomplete="off">
                        <input type="hidden" name="id" value="1050000011180798" autocomplete="off">
                    </div>
                </form>
            
                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment" data-id="1050000011180798">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                2</span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000011180798">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2017-09-15 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        
                        <a class="text-secondary comment-report" href="javascript:;" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011180798&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011180798/report">举报</a>
                    </div>
                </div>
                
                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000011180798-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000011180798/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011180798">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000011180798" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000008499160" autocomplete="off">
                        </div>
                    </form>                            
                </div>
            </div>
            <div class="replies">
                    
            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">
                        
                    </ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000011153483">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/3716427357-586f5be8e4d47_big64" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/ihoey" target="_blank"><strong>Ihoey</strong></a>
                     ：
                    <div class="parsedText fmt"><p>Nodejs中间件代理跨域  为什么之后git请求可以呢</p></div>
                </div>
            
                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000011153483/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="Nodejs中间件代理跨域  为什么之后git请求可以呢"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000011145364" autocomplete="off">
                        <input type="hidden" name="id" value="1050000011153483" autocomplete="off">
                    </div>
                </form>
            
                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment" data-id="1050000011153483">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                1</span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000011153483">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2017-09-13 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        
                        <a class="text-secondary comment-report" href="javascript:;" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011153483&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011153483/report">举报</a>
                    </div>
                </div>
                
                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000011153483-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000011153483/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011153483">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000011153483" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000008034695" autocomplete="off">
                        </div>
                    </form>                            
                </div>
            </div>
            <div class="replies">
                    
            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">
                        
                    <li class="list-group-item px-0 bg-light border-0 commentUnit">
    <div class="font-size-14 mb-2">
        <a class="d-uname" href="https://segmentfault.com/u/hoby" target="_blank"><strong>安静de沉淀</strong></a>：
        <div class="parsedText fmt"><p>因为中间件响应时在头信息里，写了允许跨域的两个参数</p></div>
    </div>
    <form class="d-none edit-form edit-reply-form" action="https://segmentfault.com/api/comment/1050000011166756/edit" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="因为中间件响应时在头信息里，写了允许跨域的两个参数"></textarea>
        </div>
        <div class="my-3 d-flex align-content-center justify-content-end">
            <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                取消
            </button>
            <button type="button" submit-type="reply-edit" class="btn btn-primary btn-sm">
                提交
            </button>
            <input type="hidden" name="id" value="1050000011166756" autocomplete="off">
        </div>
    </form>
    <div class="handle-bar font-size-14 d-flex justify-content-between">
        <div>
            <a class="text-secondary" href="Javascript:;">
            <span class="mainLike-comment" data-id="1050000011166756">
                <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
            </span>
            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                </span> </a>
            <span class="split-dot"></span>
            <a class="text-secondary btn-reply" href="Javascript:;" data-id="1050000011166756">回复</a>
            <span class="split-dot"></span>
            <span class="ml-1 text-secondary">2017-09-14 </span>
        </div>
        <div class="comment-control-area d-none">
            
            
            <a class="text-secondary reply-report" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011166756&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011166756/report" href="Javascript:;">举报</a>
        </div>
    </div>
    <form id="reply-1050000011166756-form" class="d-none my-2 add-comment-form" action="https://segmentfault.com/api/comment/1050000011153483/reply" method="post">
        <div class="form-group">
            <textarea autoheight="true" class="form-control form-control-sm reply-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text"></textarea>
        </div>
        <div class="mt-y d-flex align-content-center justify-content-end">
            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011153483">
                提交评论
            </button>
            <input type="hidden" name="replyUserId" value="1030000010971360" autocomplete="off">
        </div>
    </form> 
</li></ul>

                    
                </div>
            </div></div>
        </div>
    </div><div class="media mb-4" id="comment-1050000011191465">
        <img class="d-block rounded-circle mr-3" width="38" height="38" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/822744762-577543e298d11_big64" alt="">
        <div class="media-body w-0">
            <div class="commentUnit">
                <div class="mb-2">
                    <a class="d-uname" href="https://segmentfault.com/u/will233" target="_blank"><strong>will233</strong></a>
                     ：
                    <div class="parsedText fmt"><p>目前有个项目就在用express + http-proxy-middleware 做代理转发</p></div>
                </div>
            
                <form class="d-none edit-form edit-top-comment-form" action="https://segmentfault.com/api/comment/1050000011191465/edit" method="post">
                    <div class="form-group">
                        <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" data-init="目前有个项目就在用express + http-proxy-middleware 做代理转发"></textarea>
                    </div>
                    <div class="my-3 d-flex align-content-center justify-content-end">
                        <button type="button" class="btn btn-outline-secondary btn-sm mr-2 edit-top-comment-cancel-btn cancelEdit">
                            取消
                        </button>
                        <button type="button" submit-type="comment-edit" class="btn btn-primary btn-sm">
                            提交
                        </button>
                        <input type="hidden" name="objectId" value="1190000011145364" autocomplete="off">
                        <input type="hidden" name="id" value="1050000011191465" autocomplete="off">
                    </div>
                </form>
            
                <div class="handle-bar font-size-14 d-flex justify-content-between">
                    <div>
                        <a class="text-secondary" href="javascript:;">
                        <span class="mainLike-comment" data-id="1050000011191465">
                            <svg class="svg-inline--fa fa-thumbs-up fa-w-16 mr-1" aria-hidden="true" focusable="false" data-prefix="far" data-icon="thumbs-up" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M466.27 286.69C475.04 271.84 480 256 480 236.85c0-44.015-37.218-85.58-85.82-85.58H357.7c4.92-12.81 8.85-28.13 8.85-46.54C366.55 31.936 328.86 0 271.28 0c-61.607 0-58.093 94.933-71.76 108.6-22.747 22.747-49.615 66.447-68.76 83.4H32c-17.673 0-32 14.327-32 32v240c0 17.673 14.327 32 32 32h64c14.893 0 27.408-10.174 30.978-23.95 44.509 1.001 75.06 39.94 177.802 39.94 7.22 0 15.22.01 22.22.01 77.117 0 111.986-39.423 112.94-95.33 13.319-18.425 20.299-43.122 17.34-66.99 9.854-18.452 13.664-40.343 8.99-62.99zm-61.75 53.83c12.56 21.13 1.26 49.41-13.94 57.57 7.7 48.78-17.608 65.9-53.12 65.9h-37.82c-71.639 0-118.029-37.82-171.64-37.82V240h10.92c28.36 0 67.98-70.89 94.54-97.46 28.36-28.36 18.91-75.63 37.82-94.54 47.27 0 47.27 32.98 47.27 56.73 0 39.17-28.36 56.72-28.36 94.54h103.99c21.11 0 37.73 18.91 37.82 37.82.09 18.9-12.82 37.81-22.27 37.81 13.489 14.555 16.371 45.236-5.21 65.62zM88 432c0 13.255-10.745 24-24 24s-24-10.745-24-24 10.745-24 24-24 24 10.745 24 24z"></path></svg><!-- <i class=" far fa-thumbs-up mr-1"></i> -->
                        </span>
                            <span data-icon-count-size="" data-count-hidden="true" class="mainLike-commentNum">
                                1</span>
                        </a>
                        <span class="split-dot"></span>
                        <a class="text-secondary btn-comment" href="javascript:;" data-id="1050000011191465">回复</a>
                        <span class="split-dot"></span>
                        <span class="ml-1 text-secondary">2017-09-15 </span>
                    </div>
                    <div class="control-area d-none">
                        
                        
                        
                        <a class="text-secondary comment-report" href="javascript:;" data-dotype="modal" data-content="{&#39;type&#39;:&#39;form&#39;,&#39;asyncUrl&#39;:&#39;/iteration/api/reason/comment/report?id=1050000011191465&#39;,&#39;data&#39;:null}" data-api="/iteration/api/comment/1050000011191465/report">举报</a>
                    </div>
                </div>
                
                <div class="card bg-light border-0 mt-2 d-none" id="comment-1050000011191465-form">
                    <form class="card-body my-2 add-comment-form py-0 pt-3" action="https://segmentfault.com/api/comment/1050000011191465/reply" method="post">
                        <div class="form-group">
                            <textarea autoheight="true" class="form-control comment-text" rows="1" placeholder="撰写评论 ..." style="overflow: hidden; overflow-wrap: break-word; resize: none;" name="text" aria-placeholder="撰写评论..."></textarea>
                        </div>
                        <div class="mt-y d-flex align-content-center justify-content-end">
                            <button type="button" submit-type="reply" class="btn btn-primary btn-sm" data-commentid="1050000011191465">
                                提交评论
                            </button>
                            <input type="hidden" name="objectId" value="1050000011191465" autocomplete="off">
                            <input type="hidden" name="replyUserId" value="1030000005844403" autocomplete="off">
                        </div>
                    </form>                            
                </div>
            </div>
            <div class="replies">
                    
            
            <div class="card bg-light border-0 mt-2">
                <div class="card-body py-0">
                    <ul class="list-group list-group-flush reply-list" data-page="1">
                        
                    </ul>

                    
                </div>
            </div></div>
        </div>
    </div></div><div class="sflex-center comment-pagination"><nav>
            <ul class="pagination pagination-sm">
                <li class="page-item disabled"><a class="page-link" href="javascript:;" data-page="0">上一页</a></li>
                
                
                
                <li class="page-item active">
                            <a class="page-link" href="javascript:;" data-page="1">1</a></li><li class="page-item ">
                            <a class="page-link" href="javascript:;" data-page="2">2</a></li><li class="page-item ">
                            <a class="page-link" href="javascript:;" data-page="3">3</a></li>
                <li class="page-item disabled"><span class="page-link">…</span></li>
                <li class="page-item"><a class="page-link" href="javascript:;" data-page="2">下一页</a></li>
            </ul>
        </nav></div>
                </div>
            </div></div>
                                        <h5 class="mt-4">推荐阅读</h5>
                    <div class="card border-0 mb-4">
                        <div class="list-group list-group-flush" id="paradigm-article-related"><a href="http://segmentfault.com/a/1190000015641760" target="_blank" class="list-group-item list-group-item-action py-3">
                            <h5 class="text-body">CORS跨域</h5>
                            <p class="mb-2 text-truncate text-secondary">当一个资源从与该资源本身所在的服务器不同的域或端口请求一个资源时，资源会发起一个跨域HTTP请求。比如，站点http:domain-a.com的某HTML页面通过&lt;img&gt;的src请求http:domain-b.comimage.jpg。网络上的许多页面都会加载来自不同域的CSS样式表，图像和脚本等资源。出于安全原因，浏览器限制从脚本内发起的跨源HTTP请求。例如，XMLHttpReq</p>
                            <p class="text-secondary mb-0 font-size-14">
                                <span class="text-primary">张炳</span>
                                <span class="split-dot"></span>
                                阅读
                                <span>1k</span>
                            </p>
                        </a><a href="http://segmentfault.com/a/1190000013977060" target="_blank" class="list-group-item list-group-item-action py-3">
                            <h5 class="text-body">[经验] 跨域方案</h5>
                            <p class="mb-2 text-truncate text-secondary">本文源自一次内部关于跨域的讨论分享的总结理解跨域的重点在于：了解跨域产生的场景、原理跨域问题只在浏览器客户端环境下出现，是由于浏览器出于安全考虑设置的同源策略引起，所以解决跨域问题一般采用的思路有两种：a.绕过浏览器的同源策略约束b.遵循新的跨域规范同源策略：不同域的客户端在没明确授权的情况下，不能读写对方的资源同域：协议、域名、端口号均相同比如：哪些行为会受到浏览器同源策略的约束呢？等等哪些标签</p>
                            <p class="text-secondary mb-0 font-size-14">
                                <span class="text-primary">饭饭之辈</span>
                                <span class="split-dot"></span>
                                阅读
                                <span>73</span>
                            </p>
                        </a><a href="http://segmentfault.com/a/1190000015374115" target="_blank" class="list-group-item list-group-item-action py-3">
                            <h5 class="text-body">jsonp跨域获取数据实现百度搜索</h5>
                            <p class="mb-2 text-truncate text-secondary">本菜鸡最近在写某个页面请求数据时，报了如下的错误。了解原因后，得知是由于跨域请求导致的，学习了一下跨域及同源策略相关知识后，写了个demo玩玩要了解跨域，必须先了解浏览器同源策略，接下来搬运了一些大神的总结同源策略SOP（Sameoriginpolicy）是一种约定，由Netscape公司1995年引入浏览器，它是浏览器最核心也最基本的安全功能，如果缺少了同源策略，浏览器很容易受到XSS、CSFR</p>
                            <p class="text-secondary mb-0 font-size-14">
                                <span class="text-primary">行无忌</span>
                                <span class="split-dot"></span>
                                阅读
                                <span>105</span>
                            </p>
                        </a><a href="http://segmentfault.com/a/1190000010197683" target="_blank" class="list-group-item list-group-item-action py-3">
                            <h5 class="text-body">Nginx反向代理解决前后端联调跨域问题</h5>
                            <p class="mb-2 text-truncate text-secondary">keywords：Nginx反向代理前后端联调跨域跨域，指的是浏览器不能执行其他网站的脚本。它是由浏览器的同源策略造成的，是浏览器对javascript施加的安全限制。所谓同源是指，域名，协议，端口都相同。浏览器执行javascript脚本时，会检查这个脚本属于哪个页面，如果不是同源页面，就不会被执行。目前来讲没有不依靠服务器端来跨域请求资源的技术　　1.jsonp需要目标服务器配合一个callb</p>
                            <p class="text-secondary mb-0 font-size-14">
                                <span class="text-primary">anetin</span>
                                <span class="split-dot"></span>
                                阅读
                                <span>511</span>
                            </p>
                        </a><a href="http://segmentfault.com/a/1190000010719058" target="_blank" class="list-group-item list-group-item-action py-3">
                            <h5 class="text-body">前端开发如何独立解决跨域问题</h5>
                            <p class="mb-2 text-truncate text-secondary">跨域是由浏览器同源策略引起的，是指页面请求的接口地址，必须与页面url地址处于同域上（即域名，端口，协议相同）。这是为了防止某域名下的接口被其他域名下的网页非法调用，是浏览器对JavaScript施加的安全限制。这个措施出发点是好的，但在项目开发的过程中，常常给前端开发者带来麻烦。由于页面开发中，静态资源是放在本地电脑上的，访问这些资源通常通过IP方式（127.0.0.1）或者localhosts</p>
                            <p class="text-secondary mb-0 font-size-14">
                                <span class="text-primary">momo707577045</span>
                                <span class="split-dot"></span>
                                阅读
                                <span>855</span>
                            </p>
                        </a><a href="http://segmentfault.com/a/1190000016327364" target="_blank" class="list-group-item list-group-item-action py-3">
                            <h5 class="text-body">前端中的跨域</h5>
                            <p class="mb-2 text-truncate text-secondary">同源策略SOP（Sameoriginpolicy）是一种约定，属于浏览器的一个安全功能。不同源的客户端脚本在没有明确授权的情况下，不能读写对方资源。所以a.com下的js脚本采用ajax读取b.com里面的文件数据是会报错的。基于这个策略，有以下几种限制：如果违反了同源策略，则就会产生跨域。哪些情况才算是跨域呢？jsonp跨域的原理很简单，借鉴了html中script脚本可以来自不同域的原理。想一</p>
                            <p class="text-secondary mb-0 font-size-14">
                                <span class="text-primary">胡斐</span>
                                <span class="split-dot"></span>
                                阅读
                                <span>589</span>
                            </p>
                        </a><a href="http://segmentfault.com/a/1190000010794931" target="_blank" class="list-group-item list-group-item-action py-3">
                            <h5 class="text-body">前端跨域总结</h5>
                            <p class="mb-2 text-truncate text-secondary">只要协议、域名、端口有任何一个不同，就会被当做为不同的域，如果从A域名访问B域名上的资源就叫做跨域。下面我们来看下几种跨域的方法：浏览器的同源策略有一些限制，第一，不能通过ajax方法去请求不同源的资源；第二，浏览器中不同域的框架之间是不能进行JS交互的。假如有一个页面A，地址是http:www.domain.cnA.html，在这个页面里有个iframe，它的地址是http:domain.cnB</p>
                            <p class="text-secondary mb-0 font-size-14">
                                <span class="text-primary">echoLC</span>
                                <span class="split-dot"></span>
                                阅读
                                <span>129</span>
                            </p>
                        </a><a href="http://segmentfault.com/a/1190000016240908" target="_blank" class="list-group-item list-group-item-action py-3">
                            <h5 class="text-body">通过nginx反向代理解决前端访问的跨域问题</h5>
                            <p class="mb-2 text-truncate text-secondary">一、问题背景说明：编写移动前端页面时需要访问后台系统接口。前端项目在本地（个人办公电脑）开发，后台接口存放后生产的后台服务器，本地的ajax请求无法直接访问后台接口，也就是遇到了跨域问题，如何在不改变后台接口的情况下解决跨域问题？二、同源跨域概念说明：同源策略：是浏览器的一种安全策略，所谓同源是指域名、协议、端口完全相同，只有同源的地址才可以相互通过ajax的方式请求。跨域：同源或不同源说的是两个</p>
                            <p class="text-secondary mb-0 font-size-14">
                                <span class="text-primary">stevenzhang1346</span>
                                <span class="split-dot"></span>
                                阅读
                                <span>450</span>
                            </p>
                        </a></div>
                    </div>
                    
                </div>
                
                                <div class="col-12 col-xl-auto">
                    <div class="w-xl-300">
                        
                        <div class="card border-0 overflow-hidden d-none d-xl-flex justify-content-center align-items-center float-ads">
                            <script type="text/javascript">
                                OA_show(1);
                            </script><div id="OA_holder_1"><script async="" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/f.txt"></script>
<!-- 侧栏矩形 -->
<ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-6330872677300335" data-ad-slot="9674628595"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script><div id="beacon_4230baab47" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/lg(2).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div>
                        </div>
                        <!-- / 矩形广告位 -->
                        
                        <div class="card border-0 mt-4">
                            <div class="card-body">
                                <div class="text-center mb-3">
                                    <div class="mb25 hidden-md hidden-sm hidden-xs">
    <img src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/20191208.png" alt="Planets" usemap="#gridsMap" width="255" height="136">
    <map name="gridsMap" id="gridsMap"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000020994504)" coords="102,0,119,17" href="http://www.zzsgzn.com/?sf" stitle="专业的.net类库SDK，接口简单，功能强大，提供技术支持，免费下载试用"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000021089098)" coords="17,85,170,136" href="https://www.59dun.com/" stitle="五九盾云安全专业防护DDOS/CC攻击，T级清洗，智慧安全。"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000021114979)" coords="0,34,255,68" href="https://www.bt.cn/?invite_code=MV9wcGJuaWI=" stitle="运维要高效，装宝塔，一键管理服务器！"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000021186206)" coords="85,68,102,85" href="https://creatorsdaily.com/" stitle="唯有创造才是快乐。只有创造的生灵才是生灵。"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000021189038)" coords="0,0,17,17" href="https://www.aliyun.com/minisite/goods?userCode=mrbq2fmx" stitle="云服务器低至89元/年，阿里云回馈用户，云产品1折起"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000021191454)" coords="170,0,187,17" href="https://github.com/AobingJava/JavaFamily" stitle="【互联网大厂面经】敖丙火遍全网的系列，通俗易懂面试必备。"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000021192031)" coords="238,0,255,17" href="http://gridmanager.lovejavascript.com/" stitle="快速、灵活的让Table标签充满活力"><area shape="rect" target="_blank" onmouseover="SFGridAd.d(this)" onmouseout="SFGridAd.e(this)" onclick="SFGridAd.c(1750000021200924)" coords="187,119,255,136" href="https://www.openinstall.io/" stitle="Android/iOS 一个包走天下！"></map>
    <div style="text-align: center;"><a style="text-align:center; color:#9E9E9E; font-size:12px" href="https://segmentfault.com/sponsor">广告位促销，月曝光三千万，10 元/天</a></div>
            <script async="" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/20191208.js.下载"></script>
    </div>
                                </div>

                                <div class="side-promote-link">
                                    <script type="text/javascript">
                                        OA_show(7);
                                        OA_show(9);
                                        OA_show(10);
                                        OA_show(15);
                                        OA_show(16);
                                    </script><div id="OA_holder_7"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=57__zoneid=7__cb=6d4db45aae__oadest=https%3A%2F%2Fsegmentfault.com%2Fls%2F1650000011387052" target="_blank"><strong> Java 微服务实践课</strong><br>
<small style="color: #999">上千人学习过的微服务实栈课</small></a><div id="beacon_6d4db45aae" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/lg(3).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div><div id="OA_holder_9"><a href="https://sponsor.segmentfault.com/ck.php?oaparams=2__bannerid=56__zoneid=9__cb=1ac69a3538__oadest=https%3A%2F%2Fsegmentfault.com%2Fls%2F1650000011318558" target="_blank"><strong>大神的PHP 进阶之路</strong><br>
<small style="color: #999">亿级 PV 项目的架构梳理，性能提升实战</small></a><div id="beacon_1ac69a3538" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/lg(4).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div><div id="OA_holder_10"><div id="beacon_7f2fccaf39" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/lg(5).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div><div id="OA_holder_15"><div id="beacon_838fbf9caa" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/lg(6).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div><div id="OA_holder_16"><div id="beacon_62d38afd62" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/lg(7).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div>
                                </div>
                            </div>
                        </div>
                        <!-- / 格子广告、链接广告 -->
                        
                        <div class="card border-0 mt-4 overflow-hidden d-none d-xl-flex" data-article-nav="" style="">
                            <div class="card-body">
                                <h6 class="card-title">目录</h6>
                                <nav id="article-nav-list" data-article-nav-list="" class="font-size-14 my-n1">

                                <a class="nav-link text-secondary p-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000011145364#item-1" data-offsettop="0">什么是跨域？</a><a class="nav-link text-secondary p-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000011145364#item-2" data-offsettop="0">常见跨域场景</a><a class="nav-link text-secondary p-0 my-1 text-truncate" href="https://segmentfault.com/a/1190000011145364#item-3" data-offsettop="0">跨域解决方案</a></nav>
                            </div>
                        </div>
                        <!-- / 目录 -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script>
      var ARTICLE = {
        articleId: 1190000011145364,
        title: "前端常见跨域解决方案（全）",
        isLiked: false,
        votes: 929,
        isBookmarked: false,
        bookmarks: 2126,
        canReward: false
      }
    </script>

    







<script type="text/javascript">
  OA_show(4);
</script><div id="OA_holder_4"><div id="beacon_cbba0f2a42" style="position: absolute; left: 0px; top: 0px; visibility: hidden;"><img src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/lg(8).php" width="0" height="0" alt="" style="width: 0px; height: 0px;"></div>
</div>

<footer id="footer" class="bg-white py-5 font-size-14">
    <div class="container">
        <div class="row">
            <dl class="col-4 col-md-2">
                <dt class="h6">产品</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/questions/hottest?utm_source=sf-footer" target="_blank">热门问答</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blogs/hottest?utm_source=sf-footer" target="_blank">热门专栏</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives?utm_source=sf-footer" target="_blank">热门课程</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/events?utm_source=sf-footer" target="_blank">最新活动</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/groups?utm_source=sf-footer" target="_blank">技术圈</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/groups?tab=jobs&amp;utm_source=sf-footer" target="_blank">酷工作</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/app?utm_source=sf-footer" target="_blank">移动客户端</a></dd>
                            </dl>

            <dl class="col-4 col-md-2">
                <dt class="h6">课程</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives/edu?tag=java&amp;sort=hottest&amp;utm_source=sf-footer" target="_blank">Java 开发课程</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives/edu?tag=php&amp;sort=hottest&amp;utm_source=sf-footer" target="_blank">PHP 开发课程</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives/edu?tag=python&amp;sort=hottest&amp;utm_source=sf-footer" target="_blank">Python 开发课程</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives/edu?category=1&amp;sort=hottest&amp;utm_source=sf-footer" target="_blank">前端开发课程</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/lives/study?category=3&amp;sort=hottest&amp;utm_source=sf-footer" target="_blank">移动开发课程</a></dd>
                            </dl>

            <dl class="col-4 col-md-2 ">
                <dt class="h6">资源</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/weekly?utm_source=sf-footer" target="_blank">每周精选</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/users?utm_source=sf-footer" target="_blank">用户排行榜</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/badges?utm_source=sf-footer" target="_blank">徽章</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/faq?utm_source=sf-footer" target="_blank">帮助中心</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/repu?utm_source=sf-footer" target="_blank">声望与权限</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/community?utm_source=sf-footer" target="_blank">社区服务中心</a></dd>
                            </dl>

            <dl class="col-4 col-md-2">
                <dt class="h6">合作</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://about.segmentfault.com/?utm_source=sf-footer" target="_blank">关于我们</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://business.segmentfault.com/ads?utm_source=sf-footer" target="_blank">广告投放</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/groups?tab=jobs&amp;utm_source=sf-footer" target="_blank">职位发布</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://jinshuju.net/f/HK5r9K?utm_source=sf-footer" target="_blank">讲师招募</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://about.segmentfault.com/contact.html?utm_source=sf-footer" target="_blank">联系我们</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/link?utm_source=sf-footer" target="_blank">合作伙伴</a></dd>
                            </dl>

            <dl class="col-4 col-md-2">
                <dt class="h6">关注</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blog/segmentfault?utm_source=sf-footer" target="_blank">产品技术日志</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blog/community_admin?utm_source=sf-footer" target="_blank">社区运营日志</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blog/segmentfault_news?utm_source=sf-footer" target="_blank">市场运营日志</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blog/segmentfault_team?utm_source=sf-footer" target="_blank">团队日志</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/blog/interview?utm_source=sf-footer" target="_blank">社区访谈</a></dd>
                            </dl>

            <dl class="col-4 col-md-2" id="license">
                <dt class="h6">条款</dt>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/tos?utm_source=sf-footer" target="_blank">服务条款</a></dd>
                                <dd class="my-1"><a class="text-secondary" href="https://segmentfault.com/privacy?utm_source=sf-footer" target="_blank">隐私政策</a></dd>
                                <dd class="my-1">
                    <a class="text-secondary" href="https://segmentfault.com/app?utm_source=sf-footer"><img width="60" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/appQrcode.png" class="app-qrcode"><br>下载 App</a>
                </dd>
            </dl>
        </div>
        <hr class="mt-2 mb-4">
        <div class="row">
            <div class="col-md-8">
                <div class="text-secondary">
                    <p class="mb-1">Copyright © 2011-2019 SegmentFault. 当前呈现版本 19.02.27</p>
                    <p class="mb-1">
                        <a class="text-secondary mr-2" target="_blank" href="http://beian.miit.gov.cn/" rel="nofollow">浙ICP备 15005796号-2</a>
                        <a class="text-secondary mr-2" target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=33010602002000" rel="nofollow">浙公网安备 33010602002000号</a>
                        杭州堆栈科技有限公司版权所有
                    </p>
                    <p class="mb-0">CDN 存储服务由 <a class="text-secondary" target="_blank" href="https://www.upyun.com/?utm_source=segmentfault&amp;utm_medium=link&amp;utm_campaign=upyun&amp;md=segmentfault">又拍云</a> 赞助提供 </p>
                </div>
            </div>
            <div class="col-md-4 text-right">
                <div class="shareContent ">
                <a class="share_weixin" data-share="weixin" href="javascript:;" data-original-title="" title=""><svg class="svg-inline--fa fa-weixin fa-w-18 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="weixin" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" data-fa-i2svg=""><path fill="currentColor" d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"></path></svg><!-- <i class="fab fa-weixin fa-fw"></i> --> </a><a class="share_weibo" data-share="weibo" href="http://weibo.com/segmentfault" target="_blank"><svg class="svg-inline--fa fa-weibo fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="weibo" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M407 177.6c7.6-24-13.4-46.8-37.4-41.7-22 4.8-28.8-28.1-7.1-32.8 50.1-10.9 92.3 37.1 76.5 84.8-6.8 21.2-38.8 10.8-32-10.3zM214.8 446.7C108.5 446.7 0 395.3 0 310.4c0-44.3 28-95.4 76.3-143.7C176 67 279.5 65.8 249.9 161c-4 13.1 12.3 5.7 12.3 6 79.5-33.6 140.5-16.8 114 51.4-3.7 9.4 1.1 10.9 8.3 13.1 135.7 42.3 34.8 215.2-169.7 215.2zm143.7-146.3c-5.4-55.7-78.5-94-163.4-85.7-84.8 8.6-148.8 60.3-143.4 116s78.5 94 163.4 85.7c84.8-8.6 148.8-60.3 143.4-116zM347.9 35.1c-25.9 5.6-16.8 43.7 8.3 38.3 72.3-15.2 134.8 52.8 111.7 124-7.4 24.2 29.1 37 37.4 12 31.9-99.8-55.1-195.9-157.4-174.3zm-78.5 311c-17.1 38.8-66.8 60-109.1 46.3-40.8-13.1-58-53.4-40.3-89.7 17.7-35.4 63.1-55.4 103.4-45.1 42 10.8 63.1 50.2 46 88.5zm-86.3-30c-12.9-5.4-30 .3-38 12.9-8.3 12.9-4.3 28 8.6 34 13.1 6 30.8.3 39.1-12.9 8-13.1 3.7-28.3-9.7-34zm32.6-13.4c-5.1-1.7-11.4.6-14.3 5.4-2.9 5.1-1.4 10.6 3.7 12.9 5.1 2 11.7-.3 14.6-5.4 2.8-5.2 1.1-10.9-4-12.9z"></path></svg><!-- <i class="fab fa-weibo fa-fw"></i> --> </a><a class="share_github" data-share="github" href="https://github.com/SegmentFault" target="_blank"><svg class="svg-inline--fa fa-github fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" data-fa-i2svg=""><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg><!-- <i class="fab fa-github fa-fw"></i> --> </a><a class="share_twitter" data-share="twitter" href="https://twitter.com/segment_fault" target="_blank"><svg class="svg-inline--fa fa-twitter fa-w-16 fa-fw" aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" data-fa-i2svg=""><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg><!-- <i class="fab fa-twitter fa-fw"></i> --> </a></div>
            </div>
        </div>
    </div>
</footer>

<script>
  window.serverTime = 1575781364000;
</script>
<script>
  (function (w) {
    w.SF = {
      staticUrl: "https://assets.segmentfault.com/v-5de60fd7/"
    };
    w.SF.token = (function () {
    var _ddljk2T = //'5d'
'844'+'e5'//'JV'
+'a3'//'5'
+'xl'//'xl'
+/* 'g'//'g' */''+'bc'//'3'
+//'d'
'90'+'88'//'lE'
+''///*'t7K'*/'t7K'
+//'K'
'f'+'e5a'//'m'
+//'WA'
'1fe'+//'eOa'
'754'+'FaI'//'FaI'
+'64'//'cFY'
+'5'//'yC'
+//'gH'
'40'+//'liL'
'liL'+'4'//'I'
+//'m'
'm'+//'cAe'
'f3'+'mLK'//'mLK'
+'b'//'gSA'
, _JMb = [[7,9],[23,26],[28,31],[29,30],[31,34]];

    for (var i = 0; i < _JMb.length; i ++) {
        _ddljk2T = _ddljk2T.substring(0, _JMb[i][0]) + _ddljk2T.substring(_JMb[i][1]);
    }

    return _ddljk2T;
})();;
  })(window);

        var lock = {
    type: "",
    text: '',
    table: {"ban_post":[1,"\u4f60\u5df2\u7ecf\u88ab\u7981\u8a00, \u65e0\u6cd5\u8fdb\u884c\u6b64\u64cd\u4f5c, \u5982\u6709\u7591\u4e49\u8bf7\u63d0\u4ea4\u7533\u8bc9, \u6216\u8005\u53d1\u90ae\u4ef6\u5230pr@segmentfault.com"]}
  };

    var ddosMode = false;
  
    (function (currentUrl) {
    if (typeof URL != 'undefined') {
      var baseUrl = new URL('https://segmentfault.com');

      if (baseUrl.protocol != currentUrl.protocol
        || baseUrl.host != currentUrl.host) {
        window.location.href = baseUrl.protocol + '//' + baseUrl.host
          + currentUrl.pathname + currentUrl.search + currentUrl.hash;
      }
    }
  })(window.location);
  </script>
<script src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/jquery.js.下载"></script>
<script src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/vendors.js.下载"></script>
<script src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/detail.bundle.js.下载"></script><div class="tui-tooltip" style="display: none;"><div class="arrow"></div><span class="text"></span></div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/js"></script>

<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-918487-8');
</script>


<iframe id="p_analyse_iframe" src="./前端常见跨域解决方案（全） - - SegmentFault 思否_files/saved_resource.html" style="display: none;"></iframe><button type="button" id="fixedTools" class="btn btn-light d-none" title="回顶部">
            ▲
        </button><div id="fatkun-drop-panel">
        <a id="fatkun-drop-panel-close-btn">×</a>
            <div id="fatkun-drop-panel-inner">
                <div class="fatkun-content">
                    <svg class="fatkun-icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5892"><path d="M494.933333 782.933333c2.133333 2.133333 4.266667 4.266667 8.533334 6.4h8.533333c6.4 0 10.666667-2.133333 14.933333-6.4l2.133334-2.133333 275.2-275.2c8.533333-8.533333 8.533333-21.333333 0-29.866667-8.533333-8.533333-21.333333-8.533333-29.866667 0L533.333333 716.8V128c0-12.8-8.533333-21.333333-21.333333-21.333333s-21.333333 8.533333-21.333333 21.333333v588.8L249.6 475.733333c-8.533333-8.533333-21.333333-8.533333-29.866667 0-8.533333 8.533333-8.533333 21.333333 0 29.866667l275.2 277.333333zM853.333333 874.666667H172.8c-12.8 0-21.333333 8.533333-21.333333 21.333333s8.533333 21.333333 21.333333 21.333333H853.333333c12.8 0 21.333333-8.533333 21.333334-21.333333s-10.666667-21.333333-21.333334-21.333333z" p-id="5893"></path></svg>
                    <div class="fatkun-title">拖拽到此处</div>
                    <div class="fatkun-desc">图片将完成下载</div>
                </div>
            </div>
    </div></body></html>